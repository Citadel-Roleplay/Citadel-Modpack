namespace = agot_events_generic

# Death event
agot_events_generic.0001 = {
	hidden = yes

	trigger = {
		is_alive = yes
	}

	immediate = {
		death = {
			death_reason = death_vanished
		}
	}
}

agot_events_generic.0002 = {
	type = letter_event
	opening = agot_events_generic.0002.t
	sender = scope:byz_emp
	desc = agot_events_generic.0002.desc_vassal

	trigger = {

	}

	immediate = {
		title:e_the_iron_throne.holder = {
			save_scope_as = byz_emp
		}
	}

	option = {
		name = agot_events_generic.0002.a
		scope:byz_emp = {
			add_opinion = {
				modifier = grateful_opinion
				target = root
				opinion = 30
			}
		}
	}

	option = {
		name = agot_events_generic.0002.b
		scope:byz_emp = {
			add_opinion = {
				modifier = angry_opinion
				target = root
				opinion = -30
			}
		}
	}
}

agot_events_generic.0003 = {
	hidden = yes

	immediate = {
		house_feud_start_effect = {
			# Feuding House Head
			ACTOR = root
			# Target House Head
			TARGET = scope:rival
			# Feud Reason
			REASON = inherited_rivalry
			# House Member attacker if relevant
			ATTACKER = scope:rival
			# House Member victim if relevant
			VICTIM = root.father
		}
	}
}

agot_events_generic.0004 = {
	hidden = yes

	immediate = {
		if = {
			limit = {
				AND = {
					any_child = {
						is_ruler = yes
					}
					any_child = {
						age < 16
					}
				}
				NOT = { has_trait = widowed }
				NOT = {
					any_spouse = { is_alive = yes }
				}
			}
			add_trait = widowed

			create_character_memory = {
				type = agot_widowed_memory

				participants = {
					dead_relation = scope:dead_character
				}
			}

		}
	}
}

agot_events_generic.0005 = {
	hidden = yes

	trigger = {
		is_ai = yes
		is_human = yes # Adding an additional fallback in case this is triggered elsewhere
	}

	immediate = {
		if = {
			limit = {
				faith = {
					OR = {
						has_doctrine_parameter = faith_of_the_seven_patrons
						has_doctrine_parameter = faith_of_the_seven_qarlon_patrons
						has_doctrine_parameter = baelorist_patrons
						has_doctrine_parameter = faith_of_eight_patrons
					}
				}
			}
			random_list = {
				10 = {
					modifier = {
						factor = 5
						has_trait = authoritative
					}
					modifier = {
						factor = 5
						has_trait = just
					}
					modifier = {
						factor = 5
						has_trait = honest
					}
					modifier = {
						factor = 5
						has_trait = gregarious
					}
					modifier = {
						factor = 5
						has_trait = ambitious
					}
					set_variable = {
						name = patron_god
						value = flag:the_father
					}
					add_character_modifier = patron_the_father_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = compassionate
					}
					modifier = {
						factor = 5
						has_trait = forgiving
					}
					set_variable = {
						name = patron_god
						value = flag:the_mother
					}
					add_character_modifier = patron_the_mother_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = brave
					}
					modifier = {
						factor = 5
						has_trait = wrathful
					}
					modifier = {
						factor = 5
						has_trait = arrogant
					}
					modifier = {
						factor = 5
						is_agot_knight_trigger = yes
					}
					modifier = {
						factor = 5
						has_trait = squire
					}
					set_variable = {
						name = patron_god
						value = flag:the_warrior
					}
					add_character_modifier = patron_the_warrior_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = diligent
					}
					modifier = {
						factor = 5
						has_trait = stubborn
					}
					modifier = {
						factor = 5
						has_trait = temperate
					}
					set_variable = {
						name = patron_god
						value = flag:the_smith
					}
					add_character_modifier = patron_the_smith_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = chaste
					}
					modifier = {
						factor = 5
						has_trait = generous
					}
					modifier = {
						factor = 5
						has_trait = impatient
					}
					modifier = {
						factor = 5
						has_trait = trusting
					}
					set_variable = {
						name = patron_god
						value = flag:the_maiden
					}
					add_character_modifier = patron_the_maiden_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = patient
					}
					modifier = {
						factor = 5
						has_trait = craven
					}
					modifier = {
						factor = 5
						has_trait = content
					}
					modifier = {
						factor = 5
						has_trait = shy
					}
					modifier = {
						factor = 5
						has_trait = rude
					}
					set_variable = {
						name = patron_god
						value = flag:the_crone
					}
					add_character_modifier = patron_the_crone_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = humble
					}
					modifier = {
						factor = 5
						has_trait = calm
					}
					modifier = {
						factor = 5
						has_trait = fickle
					}
					modifier = {
						factor = 5
						has_trait = vengeful
					}
					modifier = {
						factor = 5
						has_trait = deceitful
					}
					modifier = {
						factor = 5
						has_trait = paranoid
					}
					set_variable = {
						name = patron_god
						value = flag:the_stranger
					}
					add_character_modifier = patron_the_stranger_modifier
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = faith_of_eight_patrons }
					}
					modifier = {
						factor = 5
						has_trait = callous
					}
					set_variable = {
						name = patron_god
						value = flag:drownedgod
					}
					add_character_modifier = patron_drownedgod_modifier
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = baelorist_patrons }
					}
					modifier = {
						factor = 5
						has_trait = zealous
					}
					set_variable = {
						name = patron_god
						value = flag:baelor
					}
					add_character_modifier = patron_baelor_modifier
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = faith_of_the_seven_qarlon_patrons }
					}
					modifier = {
						factor = 5
						has_trait = brave
					}
					set_variable = {
						name = patron_god
						value = flag:qarlon
					}
					add_character_modifier = patron_qarlon_modifier
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = faith_of_the_seven_weirwood_patrons  }
					}
					set_variable = {
						name = patron_god
						value = flag:weirwood
					}
					add_character_modifier = patron_weirwood_modifier
				}
			}
		}
		else_if = {
			limit = {
				faith = {
					has_doctrine_parameter = summer_gods_patrons
				}
			}
			random_list = {
				10 = {
					modifier = {
						factor = 5
						has_trait = authoritative
					}
					modifier = {
						factor = 5
						has_trait = lustful
					}
					set_variable = {
						name = patron_god
						value = flag:itaya
					}
					add_character_modifier = patron_itaya_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = temperate
					}
					modifier = {
						factor = 5
						has_trait = diligent
					}
					set_variable = {
						name = patron_god
						value = flag:qunda
					}
					add_character_modifier = patron_qunda_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = brave
					}
					modifier = {
						factor = 5
						has_education_martial_trigger = yes
					}
					set_variable = {
						name = patron_god
						value = flag:chatana
					}
					add_character_modifier = patron_chatana_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = shrewd
					}
					modifier = {
						factor = 5
						has_education_stewardship_trigger  yes
					}
					set_variable = {
						name = patron_god
						value = flag:tolaq
					}
					add_character_modifier = patron_tolaq_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = patient
					}
					set_variable = {
						name = patron_god
						value = flag:dhosu
					}
					add_character_modifier = patron_dhosu_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = inquisitive
					}
					set_variable = {
						name = patron_god
						value = flag:qhubar
					}
					add_character_modifier = patron_qhubar_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = fickle
					}
					modifier = {
						factor = 5
						has_trait = deceitful
					}
					set_variable = {
						name = patron_god
						value = flag:hulabhar
					}
					add_character_modifier = patron_hulabhar_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = sadistic
					}
					modifier = {
						factor = 5
						has_trait = cynical
					}
					set_variable = {
						name = patron_god
						value = flag:xholthar
					}
					add_character_modifier = patron_xholthar_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = ambitious
					}
					modifier = {
						factor = 5
						has_trait = brave
					}
					set_variable = {
						name = patron_god
						value = flag:anayana
					}
					add_character_modifier = patron_anayana_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = witch
					}
					set_variable = {
						name = patron_god
						value = flag:qoanasa
					}
					add_character_modifier = patron_qoanasa_modifier
				}
			}
		}
		else_if = {
			limit = {
				faith = {
					has_doctrine_parameter = yiti_imperial_patrons
				}
			}
			random_list = {
				10 = {
					modifier = {
						factor = 5
						has_trait = authoritative
					}
					modifier = {
						factor = 5
						has_trait = just
					}
					modifier = {
						factor = 5
						has_trait = ambitious
					}
					set_variable = {
						name = patron_god
						value = flag:jade_emperor
					}
					add_character_modifier = patron_jade_emperor_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = compassionate
					}
					set_variable = {
						name = patron_god
						value = flag:topaz_emperor
					}
					add_character_modifier = patron_topaz_emperor_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = brave
					}
					modifier = {
						factor = 5
						has_trait = wrathful
					}
					modifier = {
						factor = 5
						has_trait = arrogant
					}
					set_variable = {
						name = patron_god
						value = flag:onyx_emperor
					}
					add_character_modifier = patron_onyx_emperor_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = diligent
					}
					modifier = {
						factor = 5
						has_trait = temperate
					}
					set_variable = {
						name = patron_god
						value = flag:opal_emperor
					}
					add_character_modifier = patron_opal_emperor_modifier
				}
				10 = {
					set_variable = {
						name = patron_god
						value = flag:amethyst_empress
					}
					add_character_modifier = patron_amethyst_empress_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = patient
					}
					modifier = {
						factor = 5
						has_trait = shy
					}
					set_variable = {
						name = patron_god
						value = flag:pearl_emperor
					}
					add_character_modifier = patron_pearl_emperor_modifier
				}
				10 = {
					modifier = {
						factor = 5
						has_trait = brave
					}
					set_variable = {
						name = patron_god
						value = flag:tourmaline_emperor
					}
					add_character_modifier = patron_tourmaline_emperor_modifier
				}
			}
		}
		else_if = {
			limit = {
				faith = {
					OR = {
						has_doctrine_parameter = braavosi_patrons
						has_doctrine_parameter = volantene_patrons
						has_doctrine_parameter = lorath_patrons
						has_doctrine_parameter = myrish_patrons
						has_doctrine_parameter = tyroshi_patrons
						has_doctrine_parameter = lyseni_patrons
					}
				}
			}
			random_list = {
				10 = {
					trigger = {
						faith = {
							has_doctrine_parameter = myrish_patrons
						}
					}
					set_variable = {
						name = patron_god
						value = flag:gelenei
					}
					add_character_modifier = patron_gelenei_modifier
				}
				10 = {
					trigger = {
						faith = {
							has_doctrine_parameter = myrish_patrons
						}
					}
					set_variable = {
						name = patron_god
						value = flag:silent_god
					}
					add_character_modifier = patron_silent_god_modifier
				}
				10 = {
					trigger = {
						OR = {
							faith = {
								has_doctrine_parameter = myrish_patrons
							}
							faith = {
								has_doctrine_parameter = lorath_patrons
							}
						}
					}
					set_variable = {
						name = patron_god
						value = flag:hooded_wayfarer
					}
					add_character_modifier = patron_hooded_wayfarer_modifier
				}
				10 = {
					trigger = {
						OR = {
							faith = {
								has_doctrine_parameter = myrish_patrons
							}
							faith = {
								has_doctrine_parameter = volantene_patrons
							}
						}
					}
					set_variable = {
						name = patron_god
						value = flag:aquan
					}
					add_character_modifier = patron_aquan_modifier
				}
				10 = {
					trigger = {
						faith = {
							has_doctrine_parameter = lyseni_patrons
						}
					}
					set_variable = {
						name = patron_god
						value = flag:saagael
					}
					add_character_modifier = patron_saagael_modifier
				}
				10 = {
					trigger = {
						OR = {
							faith = {
								has_doctrine_parameter = lyseni_patrons
							}
							faith = {
								has_doctrine_parameter = lorath_patrons
							}
						}
					}
					set_variable = {
						name = patron_god
						value = flag:bakkalon
					}
					add_character_modifier = patron_bakkalon_modifier
				}
				10 = {
					trigger = {
						faith = {
							has_doctrine_parameter = lyseni_patrons
						}
					}
					set_variable = {
						name = patron_god
						value = flag:yyndros
					}
					add_character_modifier = patron_yyndros_modifier
				}
				10 = {
					trigger = {
						OR = {
							faith = {
								has_doctrine_parameter = lyseni_patrons
							}
							faith = {
								has_doctrine_parameter = volantene_patrons
							}
						}
					}
					set_variable = {
						name = patron_god
						value = flag:pantera
					}
					add_character_modifier = patron_pantera_modifier
				}
				10 = {
					trigger = {
						faith = {
							has_doctrine_parameter = lyseni_patrons
						}
					}
					set_variable = {
						name = patron_god
						value = flag:weeping_lady
					}
					add_character_modifier = patron_weeping_lady_modifier
				}
				10 = {
					trigger = {
						faith = {
							has_doctrine_parameter = tyroshi_patrons
						}
					}
					set_variable = {
						name = patron_god
						value = flag:drunken_god
					}
					add_character_modifier = patron_drunken_god_modifier
				}
				10 = {
					trigger = {
						faith = {
							has_doctrine_parameter = tyroshi_patrons
						}
					}
					set_variable = {
						name = patron_god
						value = flag:trios
					}
					add_character_modifier = patron_trios_modifier
				}
				10 = {
					trigger = {
						OR = {
							faith = {
								has_doctrine_parameter = tyroshi_patrons
							}
							faith = {
								has_doctrine_parameter = volantene_patrons
							}
						}
					}
					set_variable = {
						name = patron_god
						value = flag:semosh_and_selloso
					}
					add_character_modifier = patron_semosh_and_selloso_modifier
				}
				10 = {
					trigger = {
						OR = {
							faith = {
								has_doctrine_parameter = tyroshi_patrons
							}
							faith = {
								has_doctrine_parameter = lorath_patrons
							}
						}
					}
					set_variable = {
						name = patron_god
						value = flag:the_pattern
					}
					add_character_modifier = patron_the_pattern_modifier
				}
				10 = {
					trigger = {
						faith = {
							has_doctrine_parameter = braavosi_patrons
						}
					}
					set_variable = {
						name = patron_god
						value = flag:merling_king
					}
					add_character_modifier = patron_merling_king_modifier
				}
				10 = {
					trigger = {
						OR = {
							faith = {
								has_doctrine_parameter = braavosi_patrons
							}
							faith = {
								has_doctrine_parameter = lorath_patrons
							}
						}
					}
					set_variable = {
						name = patron_god
						value = flag:father_of_waters
					}
					add_character_modifier = patron_father_of_waters_modifier
				}
				10 = {
					trigger = {
						OR = {
							faith = {
								has_doctrine_parameter = braavosi_patrons
							}
							faith = {
								has_doctrine_parameter = volantene_patrons
							}
						}
					}
					set_variable = {
						name = patron_god
						value = flag:lion_of_night
					}
					add_character_modifier = patron_lion_of_night_modifier
				}
				10 = {
					trigger = {
						faith = {
							has_doctrine_parameter = braavosi_patrons
						}
					}
					set_variable = {
						name = patron_god
						value = flag:moon_pale_maiden
					}
					add_character_modifier = patron_moon_pale_maiden_modifier
				}
			}
		}
	}
}

agot_events_generic.0006 = {
	hidden = yes

	immediate = {
		remove_character_flag = bookmark_independent
	}
}


agot_events_generic.0007 = {
	hidden = yes

	trigger = {
		is_ai = yes
		NOT = { has_character_flag = has_scripted_appearance }
	}

	immediate = {
		random = {
			chance = {
				value = 0
				if = {
					limit = { has_trait = fashionable }
					add = 1
				}
				if = {
					limit = { has_trait = eccentric }
					add = 1
				}
				if = {
					limit = { culture = culture:andalosi }
					add = 60
				}
				else_if = {
					limit = { culture = culture:crownlander }
					add = 1
				}
				else_if = {
					limit = { culture = culture:honeywiner }
					add = 1
				}
				else_if = {
					limit = { culture = culture:harborman }
					add = 1
				}
				else_if = {
					limit = { culture = culture:braavosi }
					add = 30
				}
				else_if = {
					limit = { culture = culture:essarian }
					add = 40
				}
				else_if = {
					limit = { culture = culture:lorathi }
					add = 80
				}
				else_if = {
					limit = { culture = culture:hartalari }
					add = 90
				}
				else_if = {
					limit = { culture = culture:lyseni }
					add = 30
				}
				else_if = {
					limit = { culture = culture:myrish }
					add = 60
				}
				else_if = {
					limit = { culture = culture:tyroshi }
					add = 100
				}
				else_if = {
					limit = { culture = culture:volantene }
					add = 50
				}
				else_if = {
					limit = { culture = culture:ghiscari }
					add = 80
				}
				else_if = {
					limit = { culture = culture:hazdahni }
					add = 80
				}
				else_if = {
					limit = { culture = culture:shuzduni }
					add = 80
				}
				else_if = {
					limit = { culture = culture:astapori }
					add = 95
				}
				else_if = {
					limit = { culture = culture:meereenese }
					add = 85
				}
				else_if = {
					limit = { culture = culture:yunkish }
					add = 90
				}
				else_if = {
					limit = { culture = culture:qartheen }
					add = 25
				}
				else_if = {
					limit = { culture = culture:greenblood }
					add = 2
				}
				else_if = {
					limit = { culture = culture:salt_dornish }
					add = 1
				}
				else_if = {
					limit = { culture = culture:rhoynish }
					add = 15
				}
				else_if = {
					limit = { culture = culture:essosi_valyrian }
					add = 5
				}
				else_if = {
					limit = { culture = culture:mantaryan }
					add = 40
				}
				else_if = {
					limit = { culture = culture:tolosi }
					add = 65
				}
				else_if = {
					limit = { culture = culture:elyrian }
					add = 65
				}
				else_if = {
					limit = {
						culture = { has_cultural_pillar = heritage_ghiscari }
					}
					add = 80
				}
				else_if = {
					limit = {
						culture = { has_cultural_pillar = heritage_valyrian }
						NOT = {
							culture = culture:high_valyrian
							culture = culture:westerosi_valyrian
							culture = culture:norvoshi
						}
					}
					add = 30
				}
			}
			add_character_flag = can_dye_hair
			agot_culture_appropiate_hair_dye_effect = yes
		}
		if = {
			limit = { has_character_flag = can_dye_hair }
			trigger_event = {
				id = agot_events_generic.0008
				years = { 5 15 }
			}
		}
	}
}

agot_events_generic.0008 = {
	hidden = yes

	trigger = {
		is_ai = yes
		is_alive = yes
		NOT = { has_character_flag = has_scripted_appearance }
	}

	immediate = {
		agot_culture_appropiate_hair_dye_effect = yes
		trigger_event = {
			id = agot_events_generic.0008
			years = { 5 15 }
		}
	}
}

agot_events_generic.0009 = {
	hidden = yes

	trigger = {
		NOT = { has_trait = education_republican_knowledge }
		is_capable_adult = yes
		is_human = yes
		OR = {
			agot_republic_education_trigger = yes
			dynasty ?= { has_dynasty_perk = fp2_urbanism_legacy_2 }
		}
	}

	immediate = {
		random_list = {
			10 = {
				modifier = {
					factor = 10
					OR = {
						has_trait = lazy
						has_trait = intellect_bad
						intrigue < 10
						stewardship < 10
					}
				}
				modifier = {
					factor = 0.1
					OR = {
						has_trait = ambitious
						has_trait = diligent
						has_trait = intellect_good
						has_trait = shrewd
					}
				}
				add_trait = education_republican_knowledge_1
			}
			70 = {
				modifier = {
					factor = 5
					OR = {
						has_trait = content
						has_trait = stubborn
						has_trait = humble
					}
				}
				add_trait = education_republican_knowledge_2
			}
			15 = {
				modifier = {
					factor = 5
					OR = {
						has_trait = ambitious
						has_trait = diligent
						has_trait = intellect_good
						has_trait = shrewd
						has_trait = deceitful
					}
				}
				add_trait = education_republican_knowledge_3
				}
			5 = {
				modifier = {
					factor = 5
					OR = {
						has_trait = ambitious
						has_trait = diligent
						has_trait = intellect_good
						has_trait = shrewd
						intrigue > 20
						stewardship > 20
					}
				}
				add_trait = education_republican_knowledge_4
			}
		}
	}
}

agot_events_generic.0010 = {	# Banish to Essos
	hidden = yes
	immediate = {
		random_county_in_region = {
			region = world_essos
			limit = {
				NOT = { holder = scope:actor }
			}
			title_province = {
				save_scope_as = exile_title
			}
			#holder = {
			#	add_visiting_courtier = scope:target
			#}
		}
		scope:target = {
			move_to_pool_at = scope:exile_title
		}
	}
}

agot_events_generic.0011 = {
	hidden = yes

	trigger = {
		is_alive = yes
	}

	immediate = {
		if = {
			limit = { has_focus = education_martial }
			agot_add_coming_of_age_martial_prowess_flag_effect = yes
		}
		else = {
			agot_add_coming_of_age_prowess_flag_effect = yes
		}

		agot_add_coming_of_age_republican_flag_effect = yes
	}
}

#Animations setup for Jedi
agot_events_generic.0012 = {
	hidden = yes

	trigger = {
		is_alive = yes
		is_human = yes
	}

	immediate = {
		save_temporary_scope_as = this_character
		# If we're wielding an artifact weapon, override our signature weapon type with what we have equipped.
		if = {
			limit = {
				any_equipped_character_artifact = {
					artifact_slot_type = primary_armament
					OR = {
						artifact_type = axe
						artifact_type = hammer
						artifact_type = spear
						artifact_type = mace
						artifact_type = sword
					}
				}
			}
			random_equipped_character_artifact = {
				limit = {
					artifact_slot_type = primary_armament
					OR = {
						artifact_type = axe
						artifact_type = hammer
						artifact_type = spear
						artifact_type = mace
						artifact_type = sword
					}
				}
				save_scope_as = equipped_signature_weapon
				scope:this_character = {
					if = {
						limit = { scope:equipped_signature_weapon = { artifact_type = axe } }
						add_character_flag = axe_person
						set_variable = {
							name = signature_weapon
							value = flag:axe
						}
					}
					if = {
						limit = { scope:equipped_signature_weapon = { artifact_type = hammer } }
						add_character_flag = hammer_person
						set_variable = {
							name = signature_weapon
							value = flag:hammer
						}
					}
					if = {
						limit = { scope:equipped_signature_weapon = { artifact_type = spear } }
						add_character_flag = spear_person
						set_variable = {
							name = signature_weapon
							value = flag:spear
						}
					}
					if = {
						limit = { scope:equipped_signature_weapon = { artifact_type = mace } }
						add_character_flag = mace_person
						set_variable = {
							name = signature_weapon
							value = flag:mace
						}
					}
					if = {
						limit = { scope:equipped_signature_weapon = { artifact_type = sword } }
						add_character_flag = sword_person
						set_variable = {
							name = signature_weapon
							value = flag:sword
						}
					}
				}
			}
		}
		else = {
			random_list = {
				30 = {
					add_character_flag = swordshield_person #More people are likely to take it by default
					set_variable = {
						name = signature_weapon
						value = flag:sword
					}
				}
				10 = {
					add_character_flag = maceshield_person
					set_variable = {
						name = signature_weapon
						value = flag:mace
					}
				}
				10 = {
					modifier = {
						add = 30
						culture  = {
							any_parent_culture_or_above = {
								OR = {
									this = culture:stone_dornish
									this = culture:salt_dornish
									this = culture:sand_dornish
								}
							}
						}
					}
					add_character_flag = spearshield_person
					set_variable = {
						name = signature_weapon
						value = flag:spear
					}
				}
				10 = {
					add_character_flag = sword_person
					set_variable = {
						name = signature_weapon
						value = flag:sword
					}
				}
				10 = {
					modifier = {
						add = 40
						culture  = {
							any_parent_culture_or_above = {
								this = culture:norvoshi
							}
						}
					}
					modifier = {
						add = 20
						culture  = {
							any_parent_culture_or_above = {
								OR = {
									this = culture:northman
									this = culture:barrowman
									this = culture:bearman
									this = culture:wolfswood_clansman
									this = culture:hill_clansman
									this = culture:krakenman
									this = culture:skagosi
								}
							}
						}
					}
					add_character_flag = axe_person
					set_variable = {
						name = signature_weapon
						value = flag:axe
					}
				}
				10 = {
					modifier = {
						add = 30
						culture  = {
							any_parent_culture_or_above = {
								OR = {
									this = culture:stone_dornish
									this = culture:salt_dornish
									this = culture:sand_dornish
								}
							}
						}
					}
					add_character_flag = spear_person
					set_variable = {
						name = signature_weapon
						value = flag:spear
					}
				}
				10 = {
					add_character_flag = mace_person
					set_variable = {
						name = signature_weapon
						value = flag:mace
					}
				}
				10 = {
					add_character_flag = hammer_person
					set_variable = {
						name = signature_weapon
						value = flag:hammer
					}
				}
			}
		}
	}
}

#Destined Child
agot_events_generic.0020 = {
	hidden = yes

	trigger = {
		has_bp2_dlc_trigger = yes
	}

	immediate = {
		add_character_modifier = {
			modifier = bp2_destined_modifier
		}
		set_variable = {
			name = destiny_child
			value = root
		}

		random_parent = {
			limit = {
				is_landed = yes
			}
			create_story = {
				type = story_destiny_child
				save_scope_as = story
			}

			random_owned_story = {
				limit = {
					story_type = story_destiny_child
				}
				set_variable = {
					name = destiny_child
					value = root
				}
			}
		}
	}
}