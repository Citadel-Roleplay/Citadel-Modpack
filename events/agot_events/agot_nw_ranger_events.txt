namespace = agot_nw_ranger_events

#First Ranger Died
agot_nw_ranger_events.0001 = {
	type = character_event
	title = {
		desc = {
			first_valid = {
				triggered_desc = {
					trigger = {
						NOT = { has_character_flag = fr_deserted }
						NOT = { has_character_flag = fr_becomes_lc }
					}
					desc = agot_nw_ranger_events.0001.t
				}
				triggered_desc = {
					trigger = { has_character_flag = fr_deserted }
					desc = agot_nw_ranger_events.0001.t.deserted
				}
				triggered_desc = {
					trigger = { has_character_flag = fr_becomes_lc }
					desc = agot_nw_ranger_events.0001.t.fr_to_lc
				}
			}
		}
	}
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { has_character_flag = fr_becomes_lc }
					NOT = { has_character_flag = fr_deserted }
					scope:dead_first_ranger = { NOT = { has_character_flag = incapable } }
				}
				desc = agot_nw_ranger_events.0001.desc
			}
			triggered_desc = {
				trigger = {	has_character_flag = fr_becomes_lc }
				desc = agot_nw_ranger_events.0001.desc.fr_to_lc
			}
			triggered_desc = {
				trigger = {	scope:dead_first_ranger = { has_character_flag = incapable } }
				desc = agot_nw_ranger_events.0001.desc.incapable
			}
			triggered_desc = {
				trigger = {	has_character_flag = fr_deserted }
				desc = agot_nw_ranger_events.0001.desc.fr_deserted
			}
		}
	}

	theme = death

	override_background = {
		reference = agot_the_wall
	}

	right_portrait = {
		character = scope:dead_first_ranger
	}

	trigger = { is_alive = yes }

	widget = {
		is_shown = {
			is_ai = no
		}
		gui = "event_window_character_selection_three_options"
		container = "custom_widgets_container"
	}

	immediate = {
		remove_character_flag = fr_assign_block
		hidden_effect = {
			title:d_nw_landless_first_ranger = { copy_title_history = title:d_dummy_nw_landless }
			destroy_title = title:d_dummy_nw_landless
			if = {
				limit = { has_trait = nightswatch_temp }
				remove_trait = nightswatch_temp
				add_trait = nightswatch
				add_trait_xp = {
					trait = nightswatch
					value = 100
				}
			}
		}
		if = {
			limit = {
				any_courtier = {
					is_physically_able_adult = yes
					is_male = yes
					has_trait = nightswatch
					has_trait = lifestyle_nw_ranger
					NOT = { has_trait = maester }
					NOT = { has_trait = septon }
					is_landed = no
					is_imprisoned = no
					NOT = { is_councillor_of = title:k_the_wall.holder }
				}
			}
			every_courtier = {
				limit = {
					is_physically_able_adult = yes
					is_male = yes
					has_trait = nightswatch
					has_trait = lifestyle_nw_ranger
					NOT = { has_trait = maester }
					NOT = { has_trait = septon }
					is_landed = no
					is_imprisoned = no
					NOT = { is_councillor_of = title:k_the_wall.holder }
				}
				root = {
					add_to_variable_list = {
						name = possible_characters
						target = prev
					}
				}
			}
		}
		else = {
			create_character = {
				age = { 18 40 }
				dynasty = none
				culture = culture:northman
				faith = faith:old_gods_wnw
				location = root.location
				gender = male
				trait = nightswatch
				trait = lifestyle_nw_ranger
				save_scope_as = a_new_ranger
				after_creation = {
					add_trait_xp = {
						trait = nightswatch
						value = 100
					}
					root = {
						add_courtier = scope:a_new_ranger
						add_to_variable_list = {
							name = possible_characters
							target = scope:a_new_ranger
						}
					}
				}
			}
		}

		if = {
			limit = { has_character_flag = fr_becomes_lc }
			var:previous_lc = { save_scope_as = dead_first_ranger }
		}

		if = {
			limit = { is_ai = no }
			ordered_in_list = {
				variable = possible_characters
				order_by = prowess
				root = { set_variable = { name = si_selected_character value = prev } }
				save_scope_as = fr_candidate
			}
		}
		else = {
			random_in_list = {
				variable = possible_characters
				save_scope_as = fr_candidate
			}
		}
	}

	option = {
		name = agot_nw_ranger_events.0001.a
		if = {
			limit = {
				exists = scope:fr_candidate
				is_ai = no
			}
			var:si_selected_character = {
				save_scope_as = fr_candidate
				remove_variable = si_selecting_character
			}

			hidden_effect = {
				assign_councillor_type = {
					type = councillor_marshal
					target = scope:fr_candidate
				}
			}
			clear_variable_list = possible_characters
			custom_tooltip = agot_nw_ranger_events.0001.a.tt
		}
		else_if = {
			limit = { is_ai = yes }
			hidden_effect = {
				assign_councillor_type = {
					type = councillor_marshal
					target = scope:fr_candidate
				}
			}
			clear_variable_list = possible_characters
		}

		if = {
			limit = {
				scope:dead_first_ranger = {
					is_alive = yes
					has_character_flag = incapable
				}
			}
			scope:dead_first_ranger = { remove_character_flag = incapable }
		}
		if = {
			limit = { has_character_flag = fr_deserted }
			remove_character_flag = fr_deserted
		}
	}
}

#New First Ranger Selected
agot_nw_ranger_events.0002 = {
	type = character_event
	title = agot_nw_ranger_events.0002.t
	desc = agot_nw_ranger_events.0002.desc

	theme = nightswatch

	override_background = {
		reference = agot_the_wall
	}

	right_portrait = {
		character = scope:new_first_ranger
		animation = war_attacker
	}

	option = {
		name = agot_nw_ranger_events.0002.a

		ai_chance = {
			base = 100
		}
	}

	option = {
		name = agot_nw_ranger_events.0002.b
		trigger = {
			has_multiple_players = no
			is_ai = no
			has_dlc_feature = landless_playable
		}
		if = {
			limit = {
				has_multiple_players = no
				is_ai = no
				has_dlc_feature = landless_playable
			}
			set_player_character = scope:new_first_ranger
			scope:new_first_ranger = { trigger_event = agot_nw_ranger_events.0003 }
		}

		ai_chance = {
			base = 100
		}
	}
}

#New First Ranger
agot_nw_ranger_events.0003 = {
	type = character_event
	title = agot_nw_ranger_events.0003.t
	desc = agot_nw_ranger_events.0003.desc

	theme = nightswatch

	override_background = {
		reference = agot_the_wall
	}

	immediate = {
		hidden_effect = {
			domicile = {
				move_domicile = title:k_the_wall.holder.capital_province
				change_provisions = 1500
			}
		}
	}

	right_portrait = {
		character = root
		animation = marshal
	}

	option = {
		name = agot_nw_ranger_events.0003.a

		add_prestige = 100
	}
}

#Dark Sister
agot_nw_ranger_events.0004 = {
	type = character_event
	title = agot_nw_ranger_events.0004.t
	desc = agot_nw_ranger_events.0004.desc

	theme = nightswatch

	override_background = {
		reference = agot_icecave
	}

	artifact = {
		target = scope:newly_created_artifact
		position = lower_center_portrait
	}

	right_portrait = {
		character = root
		animation = personality_bold
	}

	lower_left_portrait = {
		character = scope:bloodraven
	}

	immediate = {
		hidden_effect = { agot_create_artifact_vs_dark_sister_effect = { OWNER = root } }
		character:Targaryen_96 = { save_scope_as = bloodraven }
	}

	option = {
		name = agot_nw_ranger_events.0004.a
	}
}

#First Ranger deserted
agot_nw_ranger_events.0005 = {
	type = character_event
	title = agot_nw_ranger_events.0005.t
	desc = agot_nw_ranger_events.0005.desc

	theme = nightswatch

	override_background = {
		reference = terrain_scope
	}

	right_portrait = {
		character = scope:deserter
		animation = personality_bold
	}

	immediate = {
		scope:deserter.location = { save_scope_as = background_terrain_scope }
	}

	option = {
		name = agot_nw_ranger_events.0005.a

		add_opinion = {
			target = scope:deserter
			modifier = insult_opinion
			opinion = -50
		}
		scope:deserter = { save_scope_as = dead_first_ranger }
		add_character_flag = fr_deserted
		trigger_event = agot_nw_ranger_events.0001
	}
}

#First Ranger is back on the Wall I
agot_nw_ranger_events.0006 = {
	type = character_event
	title = agot_nw_ranger_events.0006.t
	desc = {
		desc = agot_nw_ranger_events.0006.desc
		first_valid = {
			triggered_desc = {
				trigger = { scope:first_ranger.gold > 0 }
				desc = agot_nw_ranger_events.0006.desc.gold
			}
			triggered_desc = {
				trigger = { scope:first_ranger.gold <= 0 }
				desc = agot_nw_ranger_events.0006.desc.nogold
			}
		}
	}

	theme = nightswatch

	override_background = {
		reference = agot_the_wall
	}

	left_portrait = {
		character = scope:first_ranger
		animation = steward
		camera = shop_camera_main_closeup_angle_105
	}

	right_portrait = {
		character = scope:nw_lc
		animation = war_defender
		camera = shop_camera_main_angle_195
	}

	immediate = {
		root = { save_scope_as = first_ranger }
		title:k_the_wall.holder = { save_scope_as = nw_lc }
		add_character_flag = {
			flag = recently_arrived_to_the_wall
			years = 2
		}

		if = {
			limit = { scope:first_ranger.gold > 0 }
			save_scope_value_as = {
				name = rangers_gold
				value = scope:first_ranger.gold
			}
			if = {
				limit = {
					exists = scope:rangers_gold
					scope:first_ranger.gold > 10
				}
				save_scope_value_as = {
					name = rangers_gold_greedy
					value = {
						add = scope:rangers_gold
						multiply = 0.75
					}
				}
			}
		}
	}

	#Give all my gold to the LC
	option = {
		name = agot_nw_ranger_events.0006.a
		trigger = { scope:first_ranger.gold > 0 }

		add_character_flag = rangers_gold
		show_as_tooltip = {
			pay_short_term_gold = {
				target = scope:nw_lc
				gold = scope:rangers_gold
			}
		}

		scope:nw_lc = { trigger_event = agot_nw_ranger_events.0007 }

		ai_chance = {
			base = 20
		}
	}

	#Maybe the LC wouldn't notice if I keep some of the gold
	option = {
		name = agot_nw_ranger_events.0006.b
		trigger = { scope:first_ranger.gold > 10 }
		custom_tooltip = agot_nw_ranger_events.0006.b.tt

		add_character_flag = rangers_gold_greedy
		show_as_tooltip = {
			pay_short_term_gold = {
				target = scope:nw_lc
				gold = scope:rangers_gold_greedy
			}
		}

		scope:nw_lc = { trigger_event = agot_nw_ranger_events.0007 }

		ai_chance = {
			base = 20
			ai_value_modifier = { ai_greed = 0.2 }
		}
	}

	#I'm broke
	option = {
		name = agot_nw_ranger_events.0006.c
		trigger = { scope:first_ranger.gold <= 0 }

		add_character_flag = rangers_gold_broke
		scope:nw_lc = { trigger_event = agot_nw_ranger_events.0007 }

		ai_chance = {
			base = 20
		}
	}
}

#First Ranger is back on the Wall II
agot_nw_ranger_events.0007 = {
	type = character_event
	title = agot_nw_ranger_events.0007.t
	desc = agot_nw_ranger_events.0007.desc

	theme = nightswatch

	override_background = {
		reference = agot_the_wall
	}

	right_portrait = {
		character = scope:first_ranger
		animation = personality_bold
	}

	immediate = {
		if = {
			limit = { scope:first_ranger = { has_character_flag = rangers_gold_broke } }
			add_opinion = {
				target = scope:first_ranger
				modifier = disappointed_opinion
				opinion = -5
			}
		}
		else_if = {
			limit = { scope:first_ranger = { has_character_flag = rangers_gold_greedy } }
			scope:first_ranger = {
				pay_short_term_gold = {
					target = scope:nw_lc
					gold = scope:rangers_gold_greedy
				}
			}
			random_list = {
				0 = {
					add_opinion = {
						target = scope:first_ranger
						modifier = insult_opinion
						opinion = -25
					}
					add_character_flag = nw_insult
					modifier = { add = intrigue }
					ai_value_modifier = { ai_greed = 0.1 }
				}
				0 = {
					add_opinion = {
						target = scope:first_ranger
						modifier = suspicion_opinion
						opinion = -5
					}
					add_character_flag = nw_suspicion
					ai_value_modifier = { ai_greed = 0.1 }
				}
				25 = {
					#First Ranger gets away with it..
				}
			}
		}
		else = {
			scope:first_ranger = {
				pay_short_term_gold = {
					target = scope:nw_lc
					gold = scope:rangers_gold
				}
			}
		}

		if = {
			limit = { has_dlc_feature = landless_playable }
			if = {
				limit = {
					scope:first_ranger = { is_ai = no }
					has_multiple_players = no
				}
				scope:first_ranger = {
					trigger_event = {
						id = agot_nw_ranger_events.0017
						days = 1
					}
				}
			}
			else_if = {
				limit = {
					scope:nw_lc = { is_ai = no }
					title:k_the_wall.holder = { NOT = { has_character_flag = ranger_no_character_switch } }
					has_multiple_players = no
				}
				scope:nw_lc = {
					trigger_event = {
						id = agot_nw_ranger_events.0017
						days = 1
					}
				}
			}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = {
							scope:first_ranger = { NOT = { has_character_flag = rangers_gold_broke } }
							scope:nw_lc = { NOT = { has_character_flag = nw_insult } }
							scope:nw_lc = { NOT = { has_character_flag = nw_suspicion } }
						}
						desc = agot_nw_ranger_events.0007.a
					}
					triggered_desc = {
						trigger = { scope:first_ranger = { has_character_flag = rangers_gold_broke } }
						desc = agot_nw_ranger_events.0007.a.broke
					}
					triggered_desc = {
						trigger = { scope:nw_lc = { has_character_flag = nw_insult } }
						desc = agot_nw_ranger_events.0007.a.insult
					}
					triggered_desc = {
						trigger = { scope:nw_lc = { has_character_flag = nw_suspicion } }
						desc = agot_nw_ranger_events.0007.a.suspicion
					}
				}
			}
		}

		if = {
			limit = { has_character_flag = nw_insult }
			remove_character_flag = nw_insult
		}
		else_if = {
			limit = { has_character_flag = nw_suspicion }
			remove_character_flag = nw_suspicion
		}
		scope:first_ranger = {
			if = {
				limit = { has_character_flag = rangers_gold_broke }
				remove_character_flag = rangers_gold_broke
			}
			else_if = {
				limit = { has_character_flag = rangers_gold_greedy }
				remove_character_flag = rangers_gold_greedy
			}
			else_if = {
				limit = { has_character_flag = rangers_gold }
				remove_character_flag = rangers_gold
			}
		}
	}
}

#My ranger deserted
agot_nw_ranger_events.0008 = {
	type = character_event
	title = agot_nw_ranger_events.0008.t
	desc = agot_nw_ranger_events.0008.desc

	theme = nightswatch

	override_background = {
		reference = terrain_scope
	}

	right_portrait = {
		character = scope:turncloak
		animation = personality_bold
	}

	immediate = {
		scope:turncloak.location = { save_scope_as = background_terrain_scope }
		scope:turncloak = {
			remove_trait = nightswatch
			if = {
				limit = { has_trait = lifestyle_nw_ranger }
				remove_trait = lifestyle_nw_ranger
			}
			add_trait = deserter
		}
		remove_courtier_or_guest = scope:turncloak
		add_character_flag = my_ranger_turncloaked
	}

	option = {
		name = agot_nw_ranger_events.0008.a

		add_opinion = {
			target = scope:turncloak
			modifier = insult_opinion
			opinion = -50
		}

		hidden_effect = {
			location.duchy = {
				random_de_jure_county_holder = {
					add_courtier = scope:turncloak
					save_scope_as = culture_and_faith_base
					scope:turncloak = {
						set_variable = {
							name = culture_and_faith
							value = scope:culture_and_faith_base
						}
					}
				}
			}
			scope:turncloak = {
				random = {
					chance = scope:turncloak.ai_boldness
					create_landless_adventurer_title_effect = {
						REASON = flag:voluntary
						FLAVOR_CHAR = scope:turncloak
					}
					if = {
						limit = {
							NOR = {
								culture = { agot_is_wildling_culture = yes }
								has_faith = faith:old_gods_btw_fnf
								has_faith = faith:old_gods_btw_sas
								has_faith = faith:old_gods_btw_sni
								has_faith = faith:old_gods_btw_pnv
							}
						}
						random_list = {
							0 = { #Convert my faith
								set_character_faith = scope:culture_and_faith.faith

								ai_value_modifier = {
									ai_zeal = -1
								}
							}
							0 = { #Convert my culture
								set_culture = scope:culture_and_faith.culture

								ai_value_modifier = {
									ai_rationality = -1
								}
							}
							0 = { #Convert both my faith and culture
								set_character_faith = scope:culture_and_faith.faith
								set_culture = scope:culture_and_faith.culture

								ai_value_modifier = {
									ai_zeal = -0.5
									ai_rationality = -0.5
								}
							}
							0 = { #None
								#NO CHANGE
								ai_value_modifier = {
									ai_zeal = 0.5
									ai_rationality = 0.5
								}
							}
						}
					}
				}
			}
		}
	}
}

#Positive Relation in the Camp
agot_nw_ranger_events.0009 = {
	type = character_event
	title = agot_nw_ranger_events.0009.t
	desc = agot_nw_ranger_events.0009.desc

	theme = nightswatch

	override_background = {
		reference = bp1_bonfire
	}

	left_portrait = {
		character = scope:ranger_camper_one
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_1 } }
			animation = drink
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_2 } }
			animation = admiration
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_3 } }
			animation = ecstasy
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_4 } }
			animation = flirtation
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_5 } }
			animation = happiness
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_6 } }
			animation = interested
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_7 } }
			animation = laugh
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_8 } }
			animation = love
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_9 } }
			animation = schadenfreude
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_10 } }
			animation = toast
		}
	}

	right_portrait = {
		character = scope:ranger_camper_two
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_1 } }
			animation = drink
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_2 } }
			animation = admiration
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_3 } }
			animation = ecstasy
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_4 } }
			animation = flirtation
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_5 } }
			animation = happiness
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_6 } }
			animation = interested
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_7 } }
			animation = laugh
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_8 } }
			animation = love
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_9 } }
			animation = schadenfreude
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_10 } }
			animation = toast
		}
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }
		set_anim_flags = yes
		add_character_flag = {
			flag = relation_camp_happened
			months = { 10 30 }
		}
		random_list = {
			5 = {
				if = {
					limit = { scope:ranger_camper_one = { can_set_relation_friend_trigger = { CHARACTER = scope:ranger_camper_two } } }
					scope:ranger_camper_one = { set_random_friendship_reason = { TARGET = scope:ranger_camper_two } }
				}
			}
			25 = {
				scope:ranger_camper_one = {
					add_opinion = {
						target = scope:ranger_camper_two
						modifier = friendly_interaction
						opinion = 35
					}
				}
				scope:ranger_camper_two = {
					add_opinion = {
						target = scope:ranger_camper_one
						modifier = friendly_interaction
						opinion = 35
					}
				}
			}
			70 = {
				scope:ranger_camper_one = {
					add_opinion = {
						target = scope:ranger_camper_two
						modifier = friendly_interaction
						opinion = 15
					}
				}
				scope:ranger_camper_two = {
					add_opinion = {
						target = scope:ranger_camper_one
						modifier = friendly_interaction
						opinion = 15
					}
				}
			}
		}
	}

	option = {
		name = agot_nw_ranger_events.0009.a
		remove_anim_flags = yes
	}
}

#Negative Relation in the Camp
agot_nw_ranger_events.0010 = {
	type = character_event
	title = agot_nw_ranger_events.0010.t
	desc = agot_nw_ranger_events.0010.desc

	theme = nightswatch

	override_background = {
		reference = bp1_bonfire
	}

	left_portrait = {
		character = scope:ranger_camper_one
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_1 } }
			animation = eyeroll
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_2 } }
			animation = admiration
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_3 } }
			animation = anger
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_4 } }
			animation = crying
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_5 } }
			animation = delirium
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_6 } }
			animation = disappointed
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_7 } }
			animation = disapproval
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_8 } }
			animation = disgust
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_9 } }
			animation = dismissal
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_a_10 } }
			animation = rage
		}
	}

	right_portrait = {
		character = scope:ranger_camper_two
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_1 } }
			animation = eyeroll
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_2 } }
			animation = admiration
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_3 } }
			animation = anger
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_4 } }
			animation = crying
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_5 } }
			animation = delirium
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_6 } }
			animation = disappointed
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_7 } }
			animation = disapproval
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_8 } }
			animation = disgust
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_9 } }
			animation = dismissal
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_10 } }
			animation = rage
		}
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }
		set_anim_flags = yes
		add_character_flag = {
			flag = relation_camp_happened
			months = { 10 30 }
		}
		random_list = {
			5 = {
				if = {
					limit = { scope:ranger_camper_one = { can_set_relation_rival_trigger = { CHARACTER = scope:ranger_camper_two } } }
					scope:ranger_camper_one = {
						set_random_rivalry_reason = {
							TARGET = scope:ranger_camper_two
							RELATION = rival
						}
					}
				}
			}
			25 = {
				scope:ranger_camper_one = {
					add_opinion = {
						target = scope:ranger_camper_two
						modifier = insult_opinion
						opinion = -35
					}
				}
				scope:ranger_camper_two = {
					add_opinion = {
						target = scope:ranger_camper_one
						modifier = insult_opinion
						opinion = -35
					}
				}
			}
			70 = {
				scope:ranger_camper_one = {
					add_opinion = {
						target = scope:ranger_camper_two
						modifier = insult_opinion
						opinion = -15
					}
				}
				scope:ranger_camper_two = {
					add_opinion = {
						target = scope:ranger_camper_one
						modifier = insult_opinion
						opinion = -15
					}
				}
			}
		}
	}

	option = {
		name = agot_nw_ranger_events.0010.a
		remove_anim_flags = yes
	}
}

#Cannot continue
agot_nw_ranger_events.0011 = {
	type = character_event
	title = agot_nw_ranger_events.0011.t
	desc = agot_nw_ranger_events.0011.desc

	theme = nightswatch

	override_background = {
		reference = agot_the_wall
	}

	right_portrait = {
		character = root
		animation = cough
	}

	immediate = {
		save_scope_as = dead_first_ranger
		add_character_flag = incapable
		hidden_effect = { title:d_dummy_nw_landless = { copy_title_history = title:d_nw_landless_first_ranger } }
	}

	option = {
		name = agot_nw_ranger_events.0011.a

		if = {
			limit = {
				has_multiple_players = no
				is_ai = no
				has_dlc_feature = landless_playable
			}
			set_player_character = title:k_the_wall.holder
		}
		end_ranger_story = yes

		title:k_the_wall.holder = {
			add_character_flag = fr_assign_block
			if = {
				limit = {
					exists = cp:councillor_marshal
				}
				fire_councillor = cp:councillor_marshal
			}
			trigger_event = agot_nw_ranger_events.0001
		}
	}
}

#Wildling Ambush I
agot_nw_ranger_events.0012 = {
	type = character_event
	title = agot_nw_ranger_events.0012.t
	desc = agot_nw_ranger_events.0012.desc

	theme = martial

	override_background = {
		reference = terrain_scope
	}

	right_portrait = {
		character = root
		animation = personality_bold
	}

	widget = {
		is_shown = {
			is_ai = no
		}
		gui = "event_window_character_selection_three_options"
		container = "custom_widgets_container"
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }

		if = {
			limit = {
				any_courtier = {
					is_physically_able_adult = yes
					is_landed = no
					is_imprisoned = no
				}
			}
			every_courtier = {
				limit = {
					is_physically_able_adult = yes
					is_landed = no
					is_imprisoned = no
				}
				root = {
					add_to_variable_list = {
						name = possible_characters
						target = prev
					}
				}
			}
		}
		else = {
			create_character = {
				age = { 18 40 }
				dynasty = none
				culture = scope:actor.culture
				faith = scope:actor.faith
				location = root.location
				gender_female_chance = 50
				save_scope_as = a_new_wildling
				after_creation = {
					add_trait_xp = {
						trait = nightswatch
						value = 100
					}
					root = {
						add_courtier = scope:a_new_wildling
						add_to_variable_list = {
							name = possible_characters
							target = scope:a_new_wildling
						}
					}
				}
			}
		}

		if = {
			limit = { is_ai = no }
			ordered_in_list = {
				variable = possible_characters
				order_by = prowess
				root = { set_variable = { name = si_selected_character value = prev } }
				save_scope_as = ambusher_candidate
			}
		}
		else = {
			random_in_list = {
				variable = possible_characters
				save_scope_as = ambusher_candidate
			}
		}
	}

	option = {
		name = agot_nw_ranger_events.0012.a

		if = {
			limit = {
				exists = scope:ambusher_candidate
				is_ai = no
			}
			var:si_selected_character = {
				save_scope_as = ambusher_candidate
				remove_variable = si_selecting_character
			}

			clear_variable_list = possible_characters

			scope:ambusher_candidate = { save_scope_as = wildling_ambusher }
		}
		else_if = {
			limit = { is_ai = yes }
			clear_variable_list = possible_characters
			scope:ambusher_candidate = { save_scope_as = wildling_ambusher }
		}

		scope:recipient = { trigger_event = agot_nw_ranger_events.0013 }

		ai_chance = {
			base = 0
			ai_value_modifier = { ai_rationality = 1 }
		}
	}

	option = {
		name = agot_nw_ranger_events.0012.b
		clear_variable_list = possible_characters
		scope:actor = {
			add_character_flag = fr_attacker
			save_scope_as = wildling_ambusher
		}
		scope:recipient = { trigger_event = agot_nw_ranger_events.0013 }

		ai_chance = {
			base = 0
			ai_value_modifier = { ai_boldness = 1 }
		}
	}
}

#Wildling Ambush II
agot_nw_ranger_events.0013 = {
	type = character_event
	title = agot_nw_ranger_events.0013.t
	desc = agot_nw_ranger_events.0013.desc

	theme = martial

	override_background = {
		reference = terrain_scope
	}

	right_portrait = {
		character = scope:wildling_ambusher
		animation = aggressive_spear
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }

		add_character_flag = {
			flag = recently_ambushed_by_wildlings
			years = { 4 10 }
		}
	}

	option = {
		name = agot_nw_ranger_events.0013.a

		scope:wildling_ambusher = { save_scope_as = opponent }
		custom_tooltip = agot_nw_ranger_events_duel_begins
		configure_start_single_combat_effect = {
			SC_INITIATOR = scope:wildling_ambusher
			SC_ATTACKER = scope:wildling_ambusher
			SC_DEFENDER = scope:recipient
			FATALITY = always
			FIXED = no
			LOCALE = terrain_scope
			INVALIDATION_EVENT = single_combat.1006
			OUTPUT_EVENT = agot_nw_ranger_events.0015
		}
	}
}

#Wildling Ambush III
agot_nw_ranger_events.0014 = {
	type = character_event
	title = {
		desc = {
			first_valid = {
				triggered_desc = {
					trigger = { scope:actor = { has_character_flag = fr_victory } }
					desc = agot_nw_ranger_events.0014.t.win
				}
				triggered_desc = {
					trigger = { scope:actor = { has_character_flag = fr_defeat } }
					desc = agot_nw_ranger_events.0014.t.lose
				}
			}
		}
	}
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { scope:actor = { has_character_flag = fr_victory } }
				desc = agot_nw_ranger_events.0014.desc.win
			}
			triggered_desc = {
				trigger = { scope:actor = { has_character_flag = fr_defeat } }
				desc = agot_nw_ranger_events.0014.desc.lose
			}
		}
	}

	theme = martial

	override_background = {
		reference = terrain_scope
	}

	left_portrait = {
		character = scope:actor
		triggered_animation = {
			trigger = { scope:actor = { has_character_flag = fr_victory } }
			animation = personality_bold
		}
		triggered_animation = {
			trigger = { scope:actor = { has_character_flag = fr_defeat } }
			animation = stress
		}
	}

	right_portrait = {
		character = scope:recipient
		triggered_animation = {
			trigger = { scope:actor = { has_character_flag = fr_defeat } }
			animation = personality_bold
		}
		triggered_animation = {
			trigger = { scope:actor = { has_character_flag = fr_victory } }
			animation = stress
		}
	}

	lower_right_portrait = {
		character = scope:wildling_ambusher
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = { scope:actor = { has_character_flag = fr_victory } }
						desc = agot_nw_ranger_events.0014.a.win
					}
					triggered_desc = {
						trigger = { scope:actor = { has_character_flag = fr_defeat } }
						desc = agot_nw_ranger_events.0014.a.lose
					}
				}
			}
		}

		if = {
			limit = { has_character_flag = fr_victory }
			remove_character_flag = fr_victory
		}
		else_if = {
			limit = { has_character_flag = fr_defeat }
			remove_character_flag = fr_defeat
		}

		if = {
			limit = { has_character_flag = fr_attacker }
			remove_character_flag = fr_attacker
		}
	}
}

#Wildling Ambush Combat Event Outcome
agot_nw_ranger_events.0015 = {
	hidden = yes

	immediate = {
		#Wildling Won
		if = {
			limit = { scope:sc_victor = scope:wildling_ambusher }
			scope:actor = {
				if = {
					limit = {
						is_alive = yes
						NOT = { has_character_flag = fr_attacker }
					}
					add_character_flag = fr_victory
					trigger_event = {
						id = agot_nw_ranger_events.0014
						days = 1
					}
				}
			}
		}
		#First Ranger Won
		else_if = {
			scope:actor = {
				if = {
					limit = {
						is_alive = yes
						NOT = { has_character_flag = fr_attacker }
					}
					add_character_flag = fr_defeat
					trigger_event = {
						id = agot_nw_ranger_events.0014
						days = 1
					}
				}
			}
		}
	}
}

#New Ranger Invited
agot_nw_ranger_events.0016 = {
	type = character_event
	title = agot_nw_ranger_events.0016.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { scope:first_ranger = { has_character_flag = temporary_ranger_invite_blocker } }
				desc = agot_nw_ranger_events.0016.desc.first
			}
			triggered_desc = {
				trigger = { scope:first_ranger = { has_character_flag = first_setup_loc } }
				desc = agot_nw_ranger_events.0016.desc.second
			}
			triggered_desc = {
				trigger = {
					scope:first_ranger = {
						NOT = { has_character_flag = temporary_ranger_invite_blocker }
						NOT = { has_character_flag = first_setup_loc }
					}
				}
				desc = agot_nw_ranger_events.0016.desc
			}
		}
	}

	theme = nightswatch

	override_background = {
		reference = agot_the_wall
	}

	right_portrait = {
		character = root
		animation = personality_bold
	}

	widget = {
		is_shown = {
			is_ai = no
		}
		gui = "event_window_character_selection_three_options"
		container = "custom_widgets_container"
	}

	immediate = {
		if = {
			limit = { has_character_flag = temporary_ranger_invite_blocker }
			add_character_flag = first_setup
		}

		if = {
			limit = {
				title:k_the_wall.holder = {
					any_courtier = {
						has_trait = nightswatch
						has_trait = lifestyle_nw_ranger
						NOT = { has_trait = maester }
						NOT = { has_trait = septon }
						is_alive = yes
					}
				}
			}
			title:k_the_wall.holder = {
				every_courtier = {
					limit = {
						has_trait = nightswatch
						has_trait = lifestyle_nw_ranger
						NOT = { has_trait = maester }
						NOT = { has_trait = septon }
						is_alive = yes
					}
					scope:first_ranger = {
						add_to_variable_list = {
							name = possible_characters
							target = prev
						}
					}
				}
			}
		}

		if = {
			limit = { is_ai = no }
			ordered_in_list = {
				variable = possible_characters
				order_by = prowess
				root = { set_variable = { name = si_selected_character value = prev } }
				save_scope_as = ranger_candidate
			}
		}
		else = {
			random_in_list = {
				variable = possible_characters
				save_scope_as = ranger_candidate
			}
		}
	}

	option = {
		name = agot_nw_ranger_events.0016.a

		if = {
			limit = {
				exists = scope:ranger_candidate
				is_ai = no
			}
			var:si_selected_character = {
				save_scope_as = ranger_candidate
				remove_variable = si_selecting_character
			}

			clear_variable_list = possible_characters
		}
		else_if = {
			limit = { is_ai = yes }
			clear_variable_list = possible_characters
		}

		if = {
			limit = { exists = scope:ranger_candidate }
			custom_tooltip = agot_nw_ranger_events.0016.a.tt
			hidden_effect = { add_courtier = scope:ranger_candidate }
		}

		if = {
			limit = { has_character_flag = first_setup_loc }
			remove_character_flag = first_setup_loc
		}

		if = {
			limit = {
				NOT = { has_character_flag = new_ranger_arrived }
				NOT = { has_character_flag = temporary_ranger_invite_blocker }
			}
			add_character_flag = {
				flag = new_ranger_arrived
				months = 6
			}
		}

		if = {
			limit = { has_character_flag = temporary_ranger_invite_blocker }
			remove_character_flag = temporary_ranger_invite_blocker
		}

		hidden_effect = {
			title:k_the_wall.holder = {
				send_interface_toast = {
					type = event_generic_good
					title = agot_nw_fr_new_ranger_left.t
					left_icon = scope:ranger_candidate
					right_icon = scope:first_ranger
					custom_tooltip = agot_nw_fr_new_ranger_left.tt
				}
			}
			send_interface_toast = {
				type = event_generic_good
				title = agot_nw_fr_new_ranger_arrives.t
				left_icon = scope:ranger_candidate
				custom_tooltip = agot_nw_fr_new_ranger_arrives.tt
			}
		}

		if = {
			limit = {
				has_character_flag = first_setup
				title:k_the_wall.holder = {
					any_courtier = {
						has_trait = nightswatch
						has_trait = lifestyle_nw_ranger
						NOT = { has_trait = maester }
						NOT = { has_trait = septon }
						is_alive = yes
					}
				}
			}
			remove_character_flag = first_setup
			clear_saved_scope = ranger_candidate
			add_character_flag = {
				flag = new_ranger_arrived
				months = 6
			}
			add_character_flag = first_setup_loc
			save_scope_as = first_ranger
			trigger_event = {
				id = agot_nw_ranger_events.0016
				days = 1
			}
		}
	}
}

#First Ranger is back on the Wall III
agot_nw_ranger_events.0017 = {
	type = character_event
	title = agot_nw_ranger_events.0017.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { this = scope:first_ranger }
				desc = agot_nw_ranger_events.0017.desc.fr
			}
			triggered_desc = {
				trigger = { this = scope:nw_lc }
				desc = agot_nw_ranger_events.0017.desc.lc
			}
		}
	}

	theme = nightswatch

	override_background = {
		reference = agot_the_wall
	}

	left_portrait = {
		character = scope:first_ranger
		animation = personality_bold
	}

	right_portrait = {
		character = scope:nw_lc
		animation = war_defender
	}

	#Stay
	option = {
		name = agot_nw_ranger_events.0017.a
	}

	#Switch Character
	option = {
		name = agot_nw_ranger_events.0017.b

		if = {
			limit = {
				has_multiple_players = no
				is_ai = no
				this = scope:nw_lc
			}
			set_player_character = scope:first_ranger
			scope:first_ranger = {
				save_scope_as = new_character
				trigger_event = {
					id = agot_nw_ranger_events.0018
					days = 1
				}
			}
		}
		else_if = {
			limit = {
				has_multiple_players = no
				is_ai = no
				this = scope:first_ranger
			}
			set_player_character = scope:nw_lc
			scope:nw_lc = {
				save_scope_as = new_character
				trigger_event = {
					id = agot_nw_ranger_events.0018
					days = 1
				}
			}
		}
	}

	#Won't ask again
	option = {
		trigger = {
			this = title:k_the_wall.holder
			title:k_the_wall.holder = { NOT = { has_character_flag = ranger_no_character_switch } }
		}
		name = agot_nw_ranger_events.0017.c
		custom_tooltip = agot_nw_ranger_events.0017.c.tt

		title:k_the_wall.holder = { add_character_flag = ranger_no_character_switch }
	}
}

#First Ranger is back on the Wall IV
agot_nw_ranger_events.0018 = {
	type = character_event
	title = agot_nw_ranger_events.0018.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { this = scope:first_ranger }
				desc = agot_nw_ranger_events.0018.desc.fr
			}
			triggered_desc = {
				trigger = { this = scope:nw_lc }
				desc = agot_nw_ranger_events.0018.desc.lc
			}
		}
	}

	theme = nightswatch

	override_background = {
		reference = agot_the_wall
	}

	right_portrait = {
		character = scope:new_character
		animation = personality_bold
	}

	immediate = { agot_nw_ranger_clear_contract = yes }

	option = {
		name = agot_nw_ranger_events.0018.a
	}
}

#The Night's Watch is no more
agot_nw_ranger_events.0019 = {
	type = character_event
	title = agot_nw_ranger_events.0019.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					OR = {
						NOT = { exists = title:k_the_wall.holder }
						title:k_the_wall.holder = {
							NOT = { has_trait = nightswatch }
							NOT = { has_trait = nightswatch_temp }
							NOT = { has_trait = nightswatch_historical }
						}
					}
				}
				desc = agot_nw_ranger_events.0019.desc
			}
			triggered_desc = {
				trigger = { title:k_the_wall.holder = { NOT = { government_has_flag = government_is_nw } } }
				desc = agot_nw_ranger_events.0019.desc.republic
			}
		}
	}

	theme = nightswatch

	override_background = {
		reference = agot_the_wall
	}

	right_portrait = {
		character = scope:first_ranger
		animation = marshal
	}

	immediate = {
		save_scope_as = first_ranger
	}

	#My adventure just begins
	option = {
		name = agot_nw_ranger_events.0019.a
		custom_tooltip = agot_nw_ranger_events.0019.a.tt

		remove_trait = nightswatch
		remove_trait = lifestyle_nw_ranger
		add_trait = deserter
		remove_character_flag = nw_ranger_title

		hidden_effect = {
			destroy_ranger_title = yes
			title:d_dummy_nw_landless = { copy_title_history = title:d_nw_landless_first_ranger }
		}

		create_landless_adventurer_title_effect = {
			REASON = flag:voluntary
			FLAVOR_CHAR = root
		}

		ai_chance = {
			base = 0
			ai_value_modifier = { ai_boldness = 1 }
		}
	}

	#Oh well
	option = {
		name = agot_nw_ranger_events.0019.b
		custom_tooltip = agot_nw_ranger_events.0019.b.tt

		hidden_effect = {
			destroy_ranger_title = yes
			title:d_dummy_nw_landless = { copy_title_history = title:d_nw_landless_first_ranger }
		}

		ai_chance = {
			base = 0
			ai_value_modifier = { ai_honor = 1 }
		}
	}
}

######################
### COUNCIL EVENTS ###
######################

#Scout - Envoy - Wildling's Opinion bonus
agot_nw_ranger_events.0021 = {
	type = character_event
	title = {
		desc = {
			first_valid = {
				triggered_desc = {
					trigger = { has_character_flag = task_success }
					desc = agot_nw_ranger_events.0021.t.success
				}
				triggered_desc = {
					trigger = { has_character_flag = task_failure }
					desc = agot_nw_ranger_events.0021.t.failed
				}
			}
		}
	}
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0021.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.0021.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.0021.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.0021.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.0021.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0021.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.0021.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.0021.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.0021.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.0021.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0021.desc.success_a }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0021.desc.success_b }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0021.desc.success_c }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0021.desc.success_d }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0021.desc.success_e }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0021.desc.fail_a }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0021.desc.fail_b }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0021.desc.fail_c }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0021.desc.fail_d }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0021.desc.fail_e }
		}
	}

	theme = landless_adventurer

	override_icon = {
		reference = "gfx/interface/icons/event_types/type_nightswatch.dds"
	}

	override_background = {
		reference = terrain_scope
	}

	right_portrait = {
		character = scope:my_ranger
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_success } }
			animation = personality_honorable
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_failure } }
			animation = stress
		}
	}

	trigger = {
		location.duchy = {
			any_de_jure_county = {
				exists = holder
				holder = {
					agot_wildling_insane = no
					NOT = { has_character_flag = ranger_opinion }
				}
			}
		}
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }
		ranger_council_event_cooldown = yes
		random_list = {
			#Successful Task
			0 = {
				modifier = { add = scope:my_ranger.ranger_1_default_value }
				add_character_flag = task_success
			}
			#Failed Task
			15 = { add_character_flag = task_failure }
		}
		save_scope_value_as = {
			name = opinion_value
			value = {
				value = {
					integer_range = {
						min = 1
						max = 10
					}
				}
				multiply = {
					value = scope:my_ranger.ranger_1_default_value
					divide = 10
				}
				min = 1
			}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = { has_character_flag = task_success }
						desc = agot_nw_ranger_events.0021.a.success
					}
					triggered_desc = {
						trigger = { has_character_flag = task_failure }
						desc = agot_nw_ranger_events.0021.a.failure
					}
				}
			}
		}

		#Success
		if = {
			limit = { has_character_flag = task_success }
			location.duchy = {
				random_de_jure_county = {
					limit = {
						exists = holder
						holder = { agot_wildling_insane = no }
					}
					holder = {
						add_opinion = {
							target = scope:first_ranger
							modifier = respect_opinion
							opinion = scope:opinion_value
						}
						add_character_flag = {
							flag = ranger_opinion
							years = 2
						}
					}
				}
			}
			remove_character_flag = task_success
		}
		#Failure
		else_if = {
			limit = { has_character_flag = task_failure }
			location.duchy = {
				every_de_jure_county = {
					limit = {
						exists = holder
					}
					holder = {
						add_opinion = {
							target = scope:first_ranger
							modifier = disrespect_opinion
							opinion = {
								value = scope:opinion_value
								multiply = -1
							}
						}
					}
				}
			}
			remove_character_flag = task_failure
		}
	}
}

#Scout - Wayfinder - Travel Safety Bonus
agot_nw_ranger_events.0022 = {
	type = character_event
	title = {
		desc = {
			first_valid = {
				triggered_desc = {
					trigger = { has_character_flag = task_success }
					desc = agot_nw_ranger_events.0022.t.success
				}
				triggered_desc = {
					trigger = { has_character_flag = task_failure }
					desc = agot_nw_ranger_events.0022.t.failed
				}
			}
		}
	}
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0022.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.0022.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.0022.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.0022.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.0022.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0022.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.0022.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.0022.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.0022.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.0022.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0022.desc.success_a }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0022.desc.success_b }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0022.desc.success_c }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0022.desc.success_d }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0022.desc.success_e }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0022.desc.fail_a }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0022.desc.fail_b }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0022.desc.fail_c }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0022.desc.fail_d }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0022.desc.fail_e }
		}
	}

	theme = landless_adventurer

	override_icon = {
		reference = "gfx/interface/icons/event_types/type_nightswatch.dds"
	}

	override_background = {
		reference = terrain_scope
	}

	right_portrait = {
		character = scope:my_ranger
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_success } }
			animation = personality_honorable
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_failure } }
			animation = stress
		}
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }
		ranger_council_event_cooldown = yes
		random_list = {
			#Successful Task
			0 = {
				modifier = { add = scope:my_ranger.ranger_1_other_value }
				add_character_flag = task_success
			}
			#Failed Task
			15 = { add_character_flag = task_failure }
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = { has_character_flag = task_success }
						desc = agot_nw_ranger_events.0022.a.success
					}
					triggered_desc = {
						trigger = { has_character_flag = task_failure }
						desc = agot_nw_ranger_events.0022.a.failure
					}
				}
			}
		}

		#Success
		if = {
			limit = { has_character_flag = task_success }
			add_character_modifier = {
				modifier = ep3_well_guided_modifier
				years = 1
			}
			remove_character_flag = task_success
		}
		#Failure
		else_if = {
			limit = { has_character_flag = task_failure }
			add_character_modifier = {
				modifier = ep3_sketchy_guides_modifier
				years = 1
			}
			remove_character_flag = task_failure
		}
	}
}

#Tracker - Provisioner - Finds Gold in Abandoned Wildling Camp
agot_nw_ranger_events.0023 = {
	type = character_event
	title = {
		desc = {
			first_valid = {
				triggered_desc = {
					trigger = { has_character_flag = task_success }
					desc = agot_nw_ranger_events.0023.t.success
				}
				triggered_desc = {
					trigger = { has_character_flag = task_failure }
					desc = agot_nw_ranger_events.0023.t.failed
				}
			}
		}
	}
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0023.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.0023.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.0023.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.0023.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.0023.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0023.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.0023.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.0023.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.0023.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.0023.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0023.desc.success_a }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0023.desc.success_b }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0023.desc.success_c }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0023.desc.success_d }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0023.desc.success_e }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0023.desc.fail_a }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0023.desc.fail_b }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0023.desc.fail_c }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0023.desc.fail_d }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0023.desc.fail_e }
		}
	}

	theme = landless_adventurer

	override_icon = {
		reference = "gfx/interface/icons/event_types/type_nightswatch.dds"
	}

	override_background = {
		reference = terrain_scope
	}

	right_portrait = {
		character = scope:my_ranger
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_success } }
			animation = crossbow
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_failure } }
			animation = stress
		}
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }
		ranger_council_event_cooldown = yes
		random_list = {
			#Successful Task
			0 = {
				modifier = { add = scope:my_ranger.ranger_2_default_value }
				add_character_flag = task_success
			}
			#Failed Task
			15 = { add_character_flag = task_failure }
		}
		save_scope_value_as = {
			name = scavenged_value
			value = {
				value = {
					integer_range = {
						min = 1
						max = 10
					}
				}
				multiply = {
					value = scope:my_ranger.ranger_2_default_value
					divide = 5
				}
				min = 1
			}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = { has_character_flag = task_success }
						desc = agot_nw_ranger_events.0023.a.success
					}
					triggered_desc = {
						trigger = { has_character_flag = task_failure }
						desc = agot_nw_ranger_events.0023.a.failure
					}
				}
			}
		}

		#Success
		if = {
			limit = { has_character_flag = task_success }
			add_gold = scope:scavenged_value
			remove_character_flag = task_success
		}
		#Failure
		else_if = {
			limit = { has_character_flag = task_failure }
			add_prestige = {
				value = scope:scavenged_value
				multiply = -1
			}
			remove_character_flag = task_failure
		}
	}
}

#Tracker - Forager - Gain Provisions
agot_nw_ranger_events.0024 = {
	type = character_event
	title = {
		desc = {
			first_valid = {
				triggered_desc = {
					trigger = { has_character_flag = task_success }
					desc = agot_nw_ranger_events.0024.t.success
				}
				triggered_desc = {
					trigger = { has_character_flag = task_failure }
					desc = agot_nw_ranger_events.0024.t.failed
				}
			}
		}
	}
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0024.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.0024.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.0024.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.0024.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.0024.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0024.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.0024.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.0024.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.0024.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.0024.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0024.desc.success_a }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0024.desc.success_b }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0024.desc.success_c }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0024.desc.success_d }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0024.desc.success_e }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0024.desc.fail_a }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0024.desc.fail_b }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0024.desc.fail_c }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0024.desc.fail_d }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0024.desc.fail_e }
		}
	}

	theme = landless_adventurer

	override_icon = {
		reference = "gfx/interface/icons/event_types/type_nightswatch.dds"
	}

	override_background = {
		reference = terrain_scope
	}

	right_portrait = {
		character = scope:my_ranger
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_success } }
			animation = crossbow
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_failure } }
			animation = stress
		}
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }
		ranger_council_event_cooldown = yes
		random_list = {
			#Successful Task
			0 = {
				modifier = { add = scope:my_ranger.ranger_2_other_value }
				add_character_flag = task_success
			}
			#Failed Task
			15 = { add_character_flag = task_failure }
		}
		save_scope_value_as = {
			name = gathered_value
			value = {
				value = {
					integer_range = {
						min = 1
						max = 10
					}
				}
				multiply = {
					value = scope:my_ranger.ranger_2_other_value
				}
				min = 1
			}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = { has_character_flag = task_success }
						desc = agot_nw_ranger_events.0024.a.success
					}
					triggered_desc = {
						trigger = { has_character_flag = task_failure }
						desc = agot_nw_ranger_events.0024.a.failure
					}
				}
			}
		}

		#Success
		if = {
			limit = { has_character_flag = task_success }
			domicile = {
				change_provisions = scope:gathered_value
			}
			remove_character_flag = task_success
		}
		#Failure
		else_if = {
			limit = { has_character_flag = task_failure }
			domicile = {
				change_provisions = {
					value = scope:gathered_value
					multiply = -1
				}
			}
			remove_character_flag = task_failure
		}
	}
}

#Blademaster - Warbrand - Gathers Wood
agot_nw_ranger_events.0025 = {
	type = character_event
	title = {
		desc = {
			first_valid = {
				triggered_desc = {
					trigger = { has_character_flag = task_success }
					desc = agot_nw_ranger_events.0025.t.success
				}
				triggered_desc = {
					trigger = { has_character_flag = task_failure }
					desc = agot_nw_ranger_events.0025.t.failed
				}
			}
		}
	}
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0025.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.0025.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.0025.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.0025.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.0025.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0025.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.0025.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.0025.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.0025.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.0025.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0025.desc.success_a }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0025.desc.success_b }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0025.desc.success_c }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0025.desc.success_d }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0025.desc.success_e }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0025.desc.fail_a }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0025.desc.fail_b }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0025.desc.fail_c }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0025.desc.fail_d }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0025.desc.fail_e }
		}
	}

	theme = landless_adventurer

	override_icon = {
		reference = "gfx/interface/icons/event_types/type_nightswatch.dds"
	}

	override_background = {
		reference = terrain_scope
	}

	right_portrait = {
		character = scope:my_ranger
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_success } }
			animation = inspect_weapon
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_failure } }
			animation = stress
		}
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }
		ranger_council_event_cooldown = yes
		random_list = {
			#Successful Task
			0 = {
				modifier = { add = scope:my_ranger.ranger_3_default_value }
				add_character_flag = task_success
			}
			#Failed Task
			15 = { add_character_flag = task_failure }
		}
		save_scope_value_as = {
			name = stress_value
			value = {
				value = {
					integer_range = {
						min = 1
						max = 10
					}
				}
				multiply = {
					value = scope:my_ranger.ranger_3_default_value
					divide = 5
				}
				min = 1
			}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = { has_character_flag = task_success }
						desc = agot_nw_ranger_events.0025.a.success
					}
					triggered_desc = {
						trigger = { has_character_flag = task_failure }
						desc = agot_nw_ranger_events.0025.a.failure
					}
				}
			}
		}

		#Success
		if = {
			limit = { has_character_flag = task_success }
			add_stress = {
				value = scope:stress_value
				multiply = -1
			}
			remove_character_flag = task_success
		}
		#Failure
		else_if = {
			limit = { has_character_flag = task_failure }
			add_stress = scope:stress_value
			remove_character_flag = task_failure
		}
	}
}

#Blademaster - Ambusher - Pracitces with You
agot_nw_ranger_events.0026 = {
	type = character_event
	title = {
		desc = {
			first_valid = {
				triggered_desc = {
					trigger = { has_character_flag = task_success }
					desc = agot_nw_ranger_events.0026.t.success
				}
				triggered_desc = {
					trigger = { has_character_flag = task_failure }
					desc = agot_nw_ranger_events.0026.t.failed
				}
			}
		}
	}
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0026.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.0026.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.0026.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.0026.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.0026.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0026.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.0026.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.0026.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.0026.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.0026.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0026.desc.success_a }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0026.desc.success_b }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0026.desc.success_c }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0026.desc.success_d }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0026.desc.success_e }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0026.desc.fail_a }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0026.desc.fail_b }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0026.desc.fail_c }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0026.desc.fail_d }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0026.desc.fail_e }
		}
	}

	theme = landless_adventurer

	override_icon = {
		reference = "gfx/interface/icons/event_types/type_nightswatch.dds"
	}

	override_background = {
		reference = terrain_scope
	}

	right_portrait = {
		character = scope:my_ranger
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_success } }
			animation = inspect_weapon
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_failure } }
			animation = stress
		}
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }
		ranger_council_event_cooldown = yes
		random_list = {
			#Successful Task
			0 = {
				modifier = { add = scope:my_ranger.ranger_3_other_value }
				add_character_flag = task_success
			}
			#Failed Task
			15 = { add_character_flag = task_failure }
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = { has_character_flag = task_success }
						desc = agot_nw_ranger_events.0026.a.success
					}
					triggered_desc = {
						trigger = { has_character_flag = task_failure }
						desc = agot_nw_ranger_events.0026.a.failure
					}
				}
			}
		}

		#Success
		if = {
			limit = { has_character_flag = task_success }
			add_character_modifier = {
				modifier = fought_a_seasoned_warrior
				years = 1
			}
			remove_character_flag = task_success
		}
		#Failure
		else_if = {
			limit = { has_character_flag = task_failure }
			add_character_modifier = {
				modifier = travel_sore_muscles_modifier
				years = 1
			}
			remove_character_flag = task_failure
		}
	}
}

#Nightguard - Shadow - Spreads Dreadful/Silly Stories About You
agot_nw_ranger_events.0027 = {
	type = character_event
	title = {
		desc = {
			first_valid = {
				triggered_desc = {
					trigger = { has_character_flag = task_success }
					desc = agot_nw_ranger_events.0027.t.success
				}
				triggered_desc = {
					trigger = { has_character_flag = task_failure }
					desc = agot_nw_ranger_events.0027.t.failed
				}
			}
		}
	}
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0027.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.0027.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.0027.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.0027.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.0027.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0027.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.0027.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.0027.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.0027.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.0027.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0027.desc.success_a }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0027.desc.success_b }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0027.desc.success_c }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0027.desc.success_d }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0027.desc.success_e }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0027.desc.fail_a }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0027.desc.fail_b }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0027.desc.fail_c }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0027.desc.fail_d }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0027.desc.fail_e }
		}
	}

	theme = landless_adventurer

	override_icon = {
		reference = "gfx/interface/icons/event_types/type_nightswatch.dds"
	}

	override_background = {
		reference = terrain_scope
	}

	right_portrait = {
		character = scope:my_ranger
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_success } }
			animation = assassin
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = task_failure } }
			animation = stress
		}
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }
		ranger_council_event_cooldown = yes
		random_list = {
			#Successful Task
			0 = {
				modifier = { add = scope:my_ranger.ranger_4_default_value }
				add_character_flag = task_success
			}
			#Failed Task
			15 = { add_character_flag = task_failure }
		}
		save_scope_value_as = {
			name = dread_value
			value = {
				value = {
					integer_range = {
						min = 1
						max = 7
					}
				}
				multiply = {
					value = scope:my_ranger.ranger_4_default_value
					divide = 20
				}
				min = 1
			}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = { has_character_flag = task_success }
						desc = agot_nw_ranger_events.0027.a.success
					}
					triggered_desc = {
						trigger = { has_character_flag = task_failure }
						desc = agot_nw_ranger_events.0027.a.failure
					}
				}
			}
		}

		#Success
		if = {
			limit = { has_character_flag = task_success }
			add_dread = scope:dread_value
			remove_character_flag = task_success
		}
		#Failure
		else_if = {
			limit = { has_character_flag = task_failure }
			add_dread = {
				value = scope:dread_value
				multiply = -1
			}
			remove_character_flag = task_failure
		}
	}
}

#Nightguard - Watcher - Wildling Caught
agot_nw_ranger_events.0028 = {
	type = character_event
	title = {
		desc = {
			first_valid = {
				triggered_desc = {
					trigger = { has_character_flag = task_success }
					desc = agot_nw_ranger_events.0028.t.success
				}
				triggered_desc = {
					trigger = { has_character_flag = task_failure }
					desc = agot_nw_ranger_events.0028.t.failed
				}
			}
		}
	}
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0028.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.0028.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.0028.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.0028.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.0028.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.0028.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.0028.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.0028.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.0028.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.0028.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0028.desc.success_a }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0028.desc.success_b }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0028.desc.success_c }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0028.desc.success_d }
			triggered_desc = { trigger = { has_character_flag = task_success } desc = agot_nw_ranger_events.0028.desc.success_e }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0028.desc.fail_a }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0028.desc.fail_b }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0028.desc.fail_c }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0028.desc.fail_d }
			triggered_desc = { trigger = { has_character_flag = task_failure } desc = agot_nw_ranger_events.0028.desc.fail_e }
		}
	}

	theme = landless_adventurer

	override_icon = {
		reference = "gfx/interface/icons/event_types/type_nightswatch.dds"
	}

	override_background = {
		reference = terrain_scope
	}

	left_portrait = {
		character = scope:my_ranger
		animation = aggressive_dagger
	}

	right_portrait = {
		character = scope:wildling_intruder
		animation = aggressive_sword
	}

	immediate = {
		location = { save_scope_as = background_terrain_scope }
		ranger_council_event_cooldown = yes
		random_list = {
			#Successful Task
			0 = {
				modifier = { add = scope:my_ranger.ranger_4_other_value }
				add_character_flag = task_success
			}
			#Failed Task
			15 = { add_character_flag = task_failure }
		}
		create_character = {
			age = { 18 40 }
			dynasty = none
			culture = location.culture
			faith = faith:old_gods_btw_fnf
			location = scope:first_ranger.location
			gender_female_chance = 50
			save_scope_as = wildling_intruder
		}

		#Success
		if = {
			limit = { has_character_flag = task_success }
			random_list = {
				1 = {
					modifier = { add = scope:my_ranger.prowess }
					scope:wildling_intruder = {
						death = {
							death_reason = death_battle
							killer = scope:my_ranger
						}
					}
				}
				1 = {
					modifier = { add = scope:wildling_intruder.prowess }
					scope:wildling_intruder = {
						add_trait = wounded_1
					}
				}
			}
		}
		#Failure
		else_if = {
			limit = { has_character_flag = task_failure }
			random_list = {
				1 = {
					modifier = { add = scope:my_ranger.prowess }
					scope:my_ranger = {
						add_trait = wounded_1
					}
				}
				1 = {
					modifier = { add = scope:wildling_intruder.prowess }
					scope:my_ranger = {
						death = {
							death_reason = death_battle
							killer = scope:my_ranger
						}
					}
				}
			}
			if = {
				limit = { scope:first_ranger.gold > 0 }
				pay_short_term_gold = {
					target = scope:wildling_intruder
					gold = {
						value = scope:first_ranger.gold
						divide = {
							value = scope:my_ranger.ranger_4_other_value
						}
						min = 1
					}
				}
			}
		}
	}

	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = { has_character_flag = task_success }
						desc = agot_nw_ranger_events.0028.a.success
					}
					triggered_desc = {
						trigger = { has_character_flag = task_failure }
						desc = agot_nw_ranger_events.0028.a.failure
					}
				}
			}
		}
		if = {
			limit = { has_character_flag = task_success }
			remove_character_flag = task_success
		}
		else_if = {
			limit = { has_character_flag = task_failure }
			remove_character_flag = task_failure
		}
		if = {
			limit = { scope:wildling_intruder = { is_alive = yes } }
			location.duchy = {
				random_de_jure_county_holder = {
					add_courtier = scope:wildling_intruder
				}
			}
		}
	}
}

#################
### CONTRACTS ###
#################

##################################
### ranger_laamp_contract_1101 ###
##################################

#Befriend Wildling After Getting Injured I
agot_nw_ranger_events.1101 = {
	type = character_event
	title = agot_nw_ranger_events.1101.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1101.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1101.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1101.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1101.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1101.desc.intro_e }
		}
		desc = agot_nw_ranger_events.1101.desc.outro
	}

	right_portrait = {
		character = scope:my_ranger
		animation = hunting_shortbow_aim_arrow_default
	}

	left_portrait = {
		character = root
		animation = personality_bold
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:employer.capital_county = {
			save_scope_as = destination_1
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}

		scope:employer = { save_scope_as = main_figure }

		location = { save_scope_as = background_terrain_scope }
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.1101.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1101.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1102
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.1101.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1101.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1102
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#Befriend Wildling After Getting Injured II
agot_nw_ranger_events.1102 = {
	type = character_event
	title = agot_nw_ranger_events.1102.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.outro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.outro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.outro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.outro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1102.desc.outro_e }
		}
	}

	left_portrait = {
		character = root
		animation = aggressive_sword
	}
	right_portrait = {
		character = scope:main_figure
		animation = aggressive_axe
		camera = shop_camera_main_near_angle_315
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = { add_trait = wounded_1 }

	#Diplomacy: challenge
	option = {
		name = agot_nw_ranger_events.1102.a

		skill = diplomacy

		save_scope_value_as = {
			name = method
			value = flag:diplomacy
		}
		save_scope_value_as = {
			name = method_option
			value = flag:one
		}
		agot_nw_contract_challenge = {
			SKILL = diplomacy
			OPTION = a
			EVENT_ID = 1102
			WIN_EVENT_ID = 1104
			LOSE_EVENT_ID = 1105
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = diplomacy
					subtract = scope:main_figure.diplomacy
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Prowess: challenge
	option = {
		name = agot_nw_ranger_events.1102.b

		skill = prowess

		save_scope_value_as = {
			name = method
			value = flag:prowess_non_sce
		}
		save_scope_value_as = {
			name = method_option
			value = flag:two
		}
		agot_nw_contract_challenge = {
			SKILL = prowess
			OPTION = b
			EVENT_ID = 1102
			WIN_EVENT_ID = 1104
			LOSE_EVENT_ID = 1105
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = prowess
					subtract = scope:main_figure.prowess
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Intrigue: challenge
	option = {
		name = agot_nw_ranger_events.1102.c
		skill = intrigue

		save_scope_value_as = {
			name = method
			value = flag:intrigue
		}
		save_scope_value_as = {
			name = method_option
			value = flag:three
		}
		agot_nw_contract_challenge = {
			SKILL = intrigue
			OPTION = c
			EVENT_ID = 1102
			WIN_EVENT_ID = 1104
			LOSE_EVENT_ID = 1105
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = intrigue
					subtract = scope:main_figure.intrigue
					multiply = 5
				}
				always = yes
			}
		}
	}
}

#Befriend Wildling After Getting Injured: You Win
agot_nw_ranger_events.1104 = {
	type = character_event
	window = scheme_successful_event
	title = agot_nw_ranger_events.1104.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1104.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1104.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1104.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1104.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1104.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1104.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1104.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1104.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1104.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1104.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1104.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1104.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1104.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1104.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1104.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = severelywounded
	}
	right_portrait = {
		character = scope:healer
		animation = physician
		camera = shop_camera_main_closeup_angle_270
	}
	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = success_standard }
		if = {
			limit = {
				scope:method = flag:diplomacy
				can_set_relation_friend_trigger = { CHARACTER = scope:main_figure }
			}
			random = {
				chance = 20
				set_relation_friend = { reason = friend_treated_wounds target = scope:main_figure }
				add_character_flag = {
					flag = got_wildling_friend
					years = 10
				}
			}
		}

		if = {
			limit = { scope:method = flag:intrigue }
			scope:my_ranger = { save_scope_as = healer }
		}
		else = {
			scope:main_figure = {
				save_scope_as = healer
				add_opinion = {
					target = root
					modifier = friendly_interaction
					opinion = 30
				}
			}
		}

		if = {
			limit = { NOT = { has_character_flag = got_wildling_friend } }
			add_character_flag = {
				flag = got_wildling_friend
				years = 2
			}
		}

		remove_trait = wounded_1
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1104.a
	}
}

#Befriend Wildling After Getting Injured: You Lose
agot_nw_ranger_events.1105 = {
	type = character_event
	window = scheme_failed_event
	title = agot_nw_ranger_events.1105.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1105.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1105.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1105.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1105.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1105.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1105.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1105.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1105.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1105.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1105.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1105.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1105.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1105.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1105.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1105.desc.three.e }
		}
	}

	theme = nightswatch

	right_portrait = {
		character = root
		animation = severelywounded
		camera = shop_camera_main_closeup_angle_15
	}
	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = failure_standard }
		hidden_effect = { return_home = yes }
		add_character_flag = {
			flag = got_wildling_friend
			years = 2
		}
	}

	option = {
		name = agot_nw_ranger_events.1105.a
	}
}

##################################
### ranger_laamp_contract_1201 ###
##################################

#Defeat the Chief I
agot_nw_ranger_events.1201 = {
	type = character_event
	title = agot_nw_ranger_events.1201.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1201.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1201.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1201.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1201.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1201.desc.intro_e }
		}
		desc = agot_nw_ranger_events.1201.desc.outro
	}

	left_portrait = {
		character = root
		animation = personality_bold
	}
	lower_right_portrait = {
		character = scope:main_figure
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:employer.capital_county = {
			save_scope_as = destination_1
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}

		location = { save_scope_as = background_terrain_scope }

		scope:employer = { save_scope_as = main_figure }
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.1201.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1201.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1202
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.1201.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1201.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1202
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#Defeat the Chief II
agot_nw_ranger_events.1202 = {
	type = character_event
	title = agot_nw_ranger_events.1202.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.outro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.outro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.outro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.outro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1202.desc.outro_e }
		}
	}

	left_portrait = {
		character = root
		animation = inspect_weapon
	}
	right_portrait = {
		character = scope:my_ranger
		animation = aggressive_sword
	}
	lower_center_portrait = {
		character = scope:main_figure
		animation = personality_bold
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		if = {
			limit = { scope:main_figure.gold > 10 }
			save_scope_value_as = {
				name = gold_loot
				value = {
					value = scope:main_figure.gold
					multiply = {
						value = root.stewardship
						divide = 50
					}
				}
			}
			scope:main_figure.primary_title = { save_scope_as = gold_loot_location }
		}
	}

	#Prowess: duel
	option = {
		name = agot_nw_ranger_events.1202.a
		trigger = { can_start_single_combat_trigger = yes }
		skill = prowess

		save_scope_value_as = {
			name = method
			value = flag:prowess_sce
		}
		save_scope_value_as = {
			name = method_option
			value = flag:one
		}
		scope:main_figure = { save_scope_as = opponent }
		custom_tooltip = agot_nw_ranger_events_duel_begins
		scope:task_contract = { set_variable = duel_engaged }
		configure_start_single_combat_effect = {
			SC_INITIATOR = root
			SC_ATTACKER = root
			SC_DEFENDER = scope:main_figure
			FATALITY = always
			FIXED = no
			LOCALE = terrain_scope
			INVALIDATION_EVENT = single_combat.1006
			OUTPUT_EVENT = agot_nw_ranger_events.1203
		}

		stress_impact = {
			brave = minor_stress_impact_loss
			craven = medium_stress_impact_gain
		}
		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = prowess
					subtract = scope:main_figure.prowess
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Intrigue: challenge
	option = {
		name = agot_nw_ranger_events.1202.b

		skill = intrigue

		save_scope_value_as = {
			name = method
			value = flag:intrigue
		}
		save_scope_value_as = {
			name = method_option
			value = flag:two
		}
		agot_nw_contract_challenge = {
			SKILL = intrigue
			OPTION = b
			EVENT_ID = 1202
			WIN_EVENT_ID = 1204
			LOSE_EVENT_ID = 1205
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = intrigue
					subtract = scope:main_figure.intrigue
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Martial: challenge
	option = {
		name = agot_nw_ranger_events.1202.c
		skill = martial

		save_scope_value_as = {
			name = method
			value = flag:martial
		}
		save_scope_value_as = {
			name = method_option
			value = flag:three
		}
		agot_nw_contract_challenge = {
			SKILL = martial
			OPTION = c
			EVENT_ID = 1202
			WIN_EVENT_ID = 1204
			LOSE_EVENT_ID = 1205
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = martial
					subtract = scope:main_figure.martial
					multiply = 5
				}
				always = yes
			}
		}
	}
}

#Defeat the Chief: Combat outcome event
agot_nw_ranger_events.1203 = {
	hidden = yes

	immediate = {
		#Player Lost
		if = {
			limit = { scope:sc_victor = scope:main_figure }
			scope:sc_loser = {
				if = {
					limit = { is_alive = yes }
					trigger_event = agot_nw_ranger_events.1205
				}
			}
		}
		#Player Won
		else = { scope:sc_victor = { trigger_event = agot_nw_ranger_events.1204 } }
	}
}

#Defeat the Chief: You Win
agot_nw_ranger_events.1204 = {
	type = character_event
	window = scheme_successful_event
	title = agot_nw_ranger_events.1204.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1204.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1204.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1204.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1204.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1204.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1204.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1204.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1204.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1204.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1204.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1204.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1204.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1204.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1204.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1204.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = aggressive_sword
	}
	right_portrait = {
		character = scope:main_figure
		animation = map_fear
		camera = shop_camera_main_closeup_angle_15
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = success_standard }
		# If they're alive, now we kill them.
		scope:main_figure = {
			if = {
				limit = { is_alive = yes }
				death = {
					death_reason = death_battle
					killer = root
				}
			}
		}
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1204.a

		if = {
			limit = { exists = scope:gold_loot }
			hidden_effect = {
				scope:gold_loot_location.holder = {
					pay_short_term_gold = {
						target = root
						gold = scope:gold_loot
					}
				}
			}
			show_as_tooltip = { add_gold = scope:gold_loot }
		}
	}
}

#Defeat the Chief: You Lose
agot_nw_ranger_events.1205 = {
	type = character_event
	window = scheme_failed_event
	title = agot_nw_ranger_events.1205.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1205.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1205.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1205.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1205.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1205.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1205.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1205.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1205.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1205.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1205.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1205.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1205.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1205.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1205.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1205.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = severelywounded
		camera = shop_camera_main_closeup_angle_15
	}

	right_portrait = {
		character = scope:main_figure
		animation = celebrate_axe
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = failure_standard }
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1205.a
	}
}

##################################
### ranger_laamp_contract_1301 ###
##################################

#Kill the Upcoming Chief I
agot_nw_ranger_events.1301 = {
	type = character_event
	title = agot_nw_ranger_events.1301.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1301.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1301.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1301.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1301.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1301.desc.intro_e }
		}
		desc = agot_nw_ranger_events.1301.desc.outro
	}

	left_portrait = {
		character = root
		animation = personality_bold
	}
	lower_right_portrait = {
		character = scope:main_figure
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:employer.capital_county = {
			save_scope_as = destination_1
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}

		location = { save_scope_as = background_terrain_scope }

		scope:employer = { save_scope_as = main_figure }
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.1301.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1301.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1202
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.1301.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1301.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1302
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#Kill the Upcoming Chief II
agot_nw_ranger_events.1302 = {
	type = character_event
	title = agot_nw_ranger_events.1302.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.outro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.outro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.outro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.outro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1302.desc.outro_e }
		}
	}

	left_portrait = {
		character = root
		animation = inspect_weapon
	}
	right_portrait = {
		character = scope:my_ranger
		animation = aggressive_sword
	}
	lower_center_portrait = {
		character = scope:main_figure
		animation = personality_bold
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		if = {
			limit = { scope:main_figure.gold > 10 }
			save_scope_value_as = {
				name = gold_loot
				value = {
					value = scope:main_figure.gold
					multiply = {
						value = root.stewardship
						divide = 50
					}
				}
			}
			scope:main_figure.primary_title = { save_scope_as = gold_loot_location }
		}
	}

	#Prowess: duel
	option = {
		name = agot_nw_ranger_events.1302.a
		trigger = { can_start_single_combat_trigger = yes }
		skill = prowess

		save_scope_value_as = {
			name = method
			value = flag:prowess_sce
		}
		save_scope_value_as = {
			name = method_option
			value = flag:one
		}
		scope:main_figure = { save_scope_as = opponent }
		custom_tooltip = agot_nw_ranger_events_duel_begins
		scope:task_contract = { set_variable = duel_engaged }
		configure_start_single_combat_effect = {
			SC_INITIATOR = root
			SC_ATTACKER = root
			SC_DEFENDER = scope:main_figure
			FATALITY = always
			FIXED = no
			LOCALE = terrain_scope
			INVALIDATION_EVENT = single_combat.1006
			OUTPUT_EVENT = agot_nw_ranger_events.1303
		}

		stress_impact = {
			brave = minor_stress_impact_loss
			craven = medium_stress_impact_gain
		}
		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = prowess
					subtract = scope:main_figure.prowess
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Martial: challenge
	option = {
		name = agot_nw_ranger_events.1302.b
		skill = martial

		save_scope_value_as = {
			name = method
			value = flag:martial
		}
		save_scope_value_as = {
			name = method_option
			value = flag:two
		}
		agot_nw_contract_challenge = {
			SKILL = martial
			OPTION = b
			EVENT_ID = 1302
			WIN_EVENT_ID = 1304
			LOSE_EVENT_ID = 1305
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = martial
					subtract = scope:main_figure.martial
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Intrigue: challenge
	option = {
		name = agot_nw_ranger_events.1302.c
		skill = intrigue

		save_scope_value_as = {
			name = method
			value = flag:intrigue
		}
		save_scope_value_as = {
			name = method_option
			value = flag:three
		}
		agot_nw_contract_challenge = {
			SKILL = intrigue
			OPTION = c
			EVENT_ID = 1302
			WIN_EVENT_ID = 1304
			LOSE_EVENT_ID = 1305
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = intrigue
					subtract = scope:main_figure.intrigue
					multiply = 5
				}
				always = yes
			}
		}
	}
}

#Kill the Upcoming Chief: Combat outcome event
agot_nw_ranger_events.1303 = {
	hidden = yes

	immediate = {
		#Player Lost
		if = {
			limit = { scope:sc_victor = scope:main_figure }
			scope:sc_loser = {
				if = {
					limit = { is_alive = yes }
					trigger_event = agot_nw_ranger_events.1305
				}
			}
		}
		#Player Won
		else = { scope:sc_victor = { trigger_event = agot_nw_ranger_events.1304 } }
	}
}

#Kill the Upcoming Chief: You Win
agot_nw_ranger_events.1304 = {
	type = character_event
	window = scheme_successful_event
	title = agot_nw_ranger_events.1304.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1304.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1304.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1304.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1304.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1304.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1304.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1304.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1304.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1304.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1304.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1304.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1304.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1304.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1304.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1304.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = aggressive_sword
	}
	right_portrait = {
		character = scope:main_figure
		animation = map_fear
		camera = shop_camera_main_closeup_angle_15
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = success_standard }
		# If they're alive, now we kill them.
		scope:main_figure = {
			if = {
				limit = { is_alive = yes }
				death = {
					death_reason = death_battle
					killer = root
				}
			}
		}
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1304.a

		if = {
			limit = { exists = scope:gold_loot }
			hidden_effect = {
				scope:gold_loot_location.holder = {
					pay_short_term_gold = {
						target = root
						gold = scope:gold_loot
					}
				}
			}
			show_as_tooltip = { add_gold = scope:gold_loot }
		}
	}
}

#Kill the Upcoming Chief: You Lose
agot_nw_ranger_events.1305 = {
	type = character_event
	window = scheme_failed_event
	title = agot_nw_ranger_events.1305.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1305.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1305.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1305.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1305.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1305.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1305.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1305.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1305.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1305.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1305.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1305.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1305.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1305.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1305.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1305.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = severelywounded
		camera = shop_camera_main_closeup_angle_15
	}

	right_portrait = {
		character = scope:main_figure
		animation = celebrate_axe
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = failure_standard }
		if = {
			limit = {
				scope:method = flag:intrigue
			}
			random_list = {
				20 = {
					if = {
						limit = { is_alive = yes }
						add_character_flag = super_dead
					}
				}
				20 = {
					hard_imprison_character_effect = {
						TARGET = root
						IMPRISONER = scope:main_figure
					}
				}
				20 = {
					add_trait = wounded_1
					add_character_flag = im_wounded
				}
			}
		}
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1305.a
		if = {
			limit = {
				has_character_flag = super_dead
			}
			death = {
				death_reason = death_battle
				killer = scope:main_figure
			}
			custom_tooltip = agot_nw_ranger_events.1305.a.tt.super_dead
		}
		else_if = {
			limit = {
				has_character_flag = im_wounded
			}
			custom_tooltip = agot_nw_ranger_events.1305.a.tt.im_wounded
			remove_character_flag = im_wounded
		}
	}
}

##################################
### ranger_laamp_contract_1401 ###
##################################

#Trade With a Wildling I
agot_nw_ranger_events.1401 = {
	type = character_event
	title = agot_nw_ranger_events.1401.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1401.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1401.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1401.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1401.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1401.desc.intro_e }
		}
		desc = agot_nw_ranger_events.1401.desc.outro
	}

	left_portrait = {
		character = root
		animation = thinking
	}
	lower_right_portrait = {
		character = scope:main_figure
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:employer.capital_county = {
			save_scope_as = destination_1
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}

		location = { save_scope_as = background_terrain_scope }

		scope:employer = { save_scope_as = main_figure }
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.1401.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1401.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1402
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.1401.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1401.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1402
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#Trade With a Wildling II
agot_nw_ranger_events.1402 = {
	type = character_event
	title = agot_nw_ranger_events.1402.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.outro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.outro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.outro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.outro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1402.desc.outro_e }
		}
	}


	left_portrait = {
		character = root
		animation = storyteller
	}

	right_portrait = {
		character = scope:main_figure
		animation = interested
	}

	theme = nightswatch
	override_background = { reference = bp1_bonfire }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	#Stewardship: challenge
	option = {
		name = agot_nw_ranger_events.1402.a

		skill = stewardship

		save_scope_value_as = {
			name = method
			value = flag:stewardship
		}
		save_scope_value_as = {
			name = method_option
			value = flag:one
		}
		agot_nw_contract_challenge = {
			SKILL = stewardship
			OPTION = a
			EVENT_ID = 1402
			WIN_EVENT_ID = 1404
			LOSE_EVENT_ID = 1405
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = stewardship
					subtract = scope:main_figure.stewardship
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Diplomacy: challenge
	option = {
		name = agot_nw_ranger_events.1402.b
		skill = diplomacy

		save_scope_value_as = {
			name = method
			value = flag:diplomacy
		}
		save_scope_value_as = {
			name = method_option
			value = flag:two
		}
		agot_nw_contract_challenge = {
			SKILL = diplomacy
			OPTION = b
			EVENT_ID = 1402
			WIN_EVENT_ID = 1404
			LOSE_EVENT_ID = 1405
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = diplomacy
					subtract = scope:main_figure.diplomacy
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Intrigue: challenge
	option = {
		name = agot_nw_ranger_events.1402.c
		skill = intrigue

		save_scope_value_as = {
			name = method
			value = flag:intrigue
		}
		save_scope_value_as = {
			name = method_option
			value = flag:three
		}
		agot_nw_contract_challenge = {
			SKILL = intrigue
			OPTION = c
			EVENT_ID = 1402
			WIN_EVENT_ID = 1404
			LOSE_EVENT_ID = 1405
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = intrigue
					subtract = scope:main_figure.intrigue
					multiply = 5
				}
				always = yes
			}
		}
	}
}

#Trade With a Wildling: You Win
agot_nw_ranger_events.1404 = {
	type = character_event
	window = scheme_successful_event
	title = agot_nw_ranger_events.1404.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1404.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1404.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1404.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1404.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1404.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1404.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1404.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1404.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1404.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1404.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1404.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1404.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1404.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1404.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1404.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = schadenfreude
	}

	right_portrait = {
		character = scope:main_figure
		animation = betting
	}

	override_background = { reference = bp1_bonfire }

	immediate = {
		scope:task_contract = { complete_task_contract = success_standard }
		if = {
			limit = {
				scope:method = flag:diplomacy
				can_set_relation_friend_trigger = { CHARACTER = scope:main_figure }
			}
			random = {
				chance = 20
				set_relation_friend = { reason = friend_treated_wounds target = scope:main_figure }
			}
		}
		add_character_flag = {
			flag = traded_with_wildling
			years = 1
		}
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1404.a
	}
}

#Trade With a Wildling: You Lose
agot_nw_ranger_events.1405 = {
	type = character_event
	window = scheme_failed_event
	title = agot_nw_ranger_events.1405.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1405.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1405.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1405.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1405.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1405.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1405.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1405.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1405.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1405.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1405.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1405.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1405.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1405.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1405.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1405.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = sadness
	}
	right_portrait = {
		character = scope:main_figure
		animation = schadenfreude
	}

	override_background = { reference = bp1_bonfire }

	immediate = {
		scope:task_contract = { complete_task_contract = failure_standard }
		add_character_flag = {
			flag = traded_with_wildling
			months = 6
		}
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1405.a
	}
}

##################################
### ranger_laamp_contract_1501 ###
##################################

#A Wildling Child I
agot_nw_ranger_events.1501 = {
	type = character_event
	title = agot_nw_ranger_events.1501.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1501.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1501.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1501.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1501.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1501.desc.intro_e }
		}
		desc = agot_nw_ranger_events.1501.desc.outro
	}

	left_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = scope:my_ranger
		animation = war_defender
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:employer.capital_county = {
			save_scope_as = destination_1
		}
		create_character = {
			age = { 4 10 }
			dynasty = none
			culture = location.culture
			faith = location.faith
			location = root.location
			gender = male
			save_scope_as = main_figure
			after_creation = {
				copy_inheritable_appearance_from = scope:employer
				set_real_mother = scope:employer
			}
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}

		location = { save_scope_as = background_terrain_scope }
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.1501.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1501.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1502
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.1501.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1501.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1502
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#A Wildling Child II
agot_nw_ranger_events.1502 = {
	type = character_event
	title = agot_nw_ranger_events.1502.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.outro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.outro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.outro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.outro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1502.desc.outro_e }
		}
	}

	left_portrait = {
		character = root
		animation = disbelief
	}
	right_portrait = {
		character = scope:main_figure
		animation = worry
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	#Prowess: challenge
	option = {
		name = agot_nw_ranger_events.1502.a

		skill = prowess

		save_scope_value_as = {
			name = method
			value = flag:prowess
		}
		save_scope_value_as = {
			name = method_option
			value = flag:one
		}
		agot_nw_contract_challenge = {
			SKILL = prowess
			OPTION = a
			EVENT_ID = 1502
			WIN_EVENT_ID = 1504
			LOSE_EVENT_ID = 1505
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = prowess
					subtract = scope:main_figure.prowess
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Learning: challenge
	option = {
		name = agot_nw_ranger_events.1502.b
		skill = learning

		save_scope_value_as = {
			name = method
			value = flag:learning
		}
		save_scope_value_as = {
			name = method_option
			value = flag:two
		}
		agot_nw_contract_challenge = {
			SKILL = learning
			OPTION = b
			EVENT_ID = 1502
			WIN_EVENT_ID = 1504
			LOSE_EVENT_ID = 1505
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = learning
					subtract = scope:main_figure.learning
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Intrigue: challenge
	option = {
		name = agot_nw_ranger_events.1502.c
		skill = intrigue

		save_scope_value_as = {
			name = method
			value = flag:intrigue
		}
		save_scope_value_as = {
			name = method_option
			value = flag:three
		}
		agot_nw_contract_challenge = {
			SKILL = intrigue
			OPTION = c
			EVENT_ID = 1502
			WIN_EVENT_ID = 1504
			LOSE_EVENT_ID = 1505
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = intrigue
					subtract = scope:main_figure.intrigue
					multiply = 5
				}
				always = yes
			}
		}
	}
}

#A Wildling Child: You Win
agot_nw_ranger_events.1504 = {
	type = character_event
	window = scheme_successful_event
	title = agot_nw_ranger_events.1504.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1504.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1504.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1504.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1504.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1504.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1504.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1504.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1504.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1504.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1504.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1504.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1504.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1504.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1504.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1504.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = happiness
	}
	right_portrait = {
		character = scope:main_figure
		animation = shock
		camera = shop_camera_main_closeup_angle_15
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = success_standard }
		add_courtier = scope:main_figure
		hidden_effect = { return_home = yes }
		add_character_flag = wildling_findling_found
	}

	option = {
		name = agot_nw_ranger_events.1504.a
	}
}

#A Wildling Child: You Lose
agot_nw_ranger_events.1505 = {
	type = character_event
	window = scheme_failed_event
	title = agot_nw_ranger_events.1505.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1505.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1505.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1505.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1505.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1505.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1505.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1505.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1505.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1505.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1505.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1505.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1505.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1505.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1505.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1505.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = sadness
	}
	right_portrait = {
		character = scope:main_figure
		animation = fear
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = failure_standard }
		scope:main_figure = {
			if = {
				limit = { is_alive = yes }
				death = { death_reason = death_accident }
			}
		}
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1505.a
	}
}

##################################
### ranger_laamp_contract_1601 ###
##################################

#Loot Artifact I
agot_nw_ranger_events.1601 = {
	type = character_event
	title = agot_nw_ranger_events.1601.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1601.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1601.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1601.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1601.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1601.desc.intro_e }
		}
		desc = agot_nw_ranger_events.1601.desc.outro
	}

	left_portrait = {
		character = root
		animation = personality_bold
	}
	lower_right_portrait = {
		character = scope:main_figure
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:employer.capital_county = {
			save_scope_as = destination_1
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}

		location = { save_scope_as = background_terrain_scope }

		scope:employer = { save_scope_as = main_figure }

		add_character_flag = {
			flag = ranger_artifact_theft
			months = { 6 18 }
		}
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.1601.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1601.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1602
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.1601.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1601.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1602
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#Loot Artifact II
agot_nw_ranger_events.1602 = {
	type = character_event
	title = agot_nw_ranger_events.1602.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.outro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.outro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.outro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.outro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1602.desc.outro_e }
		}
	}

	left_portrait = {
		character = root
		animation = inspect_weapon
	}
	right_portrait = {
		character = scope:my_ranger
		animation = aggressive_sword
	}
	lower_right_portrait = {
		character = scope:main_figure
		animation = personality_bold
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	artifact = {
		target = scope:wildling_artifact
		position = lower_center_portrait
	}

	immediate = {
		scope:main_figure = {
			if = {
				limit = {
					any_character_artifact = {
						OR = {
							rarity = famed
							rarity = illustrious
						}
						NOT = { has_variable = redbeard_axe_artifact }
					}
				}
				random_character_artifact = {
					limit = {
						OR = {
							rarity = famed
							rarity = illustrious
						}
						NOT = { has_variable = redbeard_axe_artifact }
					}
					save_scope_as = wildling_artifact
				}
			}
		}
	}
	#Prowess: duel
	option = {
		name = agot_nw_ranger_events.1602.a
		trigger = { can_start_single_combat_trigger = yes }
		skill = prowess

		save_scope_value_as = {
			name = method
			value = flag:prowess_sce
		}
		save_scope_value_as = {
			name = method_option
			value = flag:one
		}
		scope:main_figure = { save_scope_as = opponent }
		custom_tooltip = agot_nw_ranger_events_duel_begins
		scope:task_contract = { set_variable = duel_engaged }
		configure_start_single_combat_effect = {
			SC_INITIATOR = root
			SC_ATTACKER = root
			SC_DEFENDER = scope:main_figure
			FATALITY = always
			FIXED = no
			LOCALE = terrain_scope
			INVALIDATION_EVENT = single_combat.1006
			OUTPUT_EVENT = agot_nw_ranger_events.1603
		}

		stress_impact = {
			brave = minor_stress_impact_loss
			craven = medium_stress_impact_gain
		}
		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = prowess
					subtract = scope:main_figure.prowess
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Martial: challenge
	option = {
		name = agot_nw_ranger_events.1602.b

		skill = martial

		save_scope_value_as = {
			name = method
			value = flag:martial
		}
		save_scope_value_as = {
			name = method_option
			value = flag:two
		}
		agot_nw_contract_challenge = {
			SKILL = martial
			OPTION = b
			EVENT_ID = 1602
			WIN_EVENT_ID = 1604
			LOSE_EVENT_ID = 1605
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = martial
					subtract = scope:main_figure.martial
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Intrigue: challenge
	option = {
		name = agot_nw_ranger_events.1602.c
		skill = intrigue

		save_scope_value_as = {
			name = method
			value = flag:intrigue
		}
		save_scope_value_as = {
			name = method_option
			value = flag:three
		}
		agot_nw_contract_challenge = {
			SKILL = intrigue
			OPTION = c
			EVENT_ID = 1602
			WIN_EVENT_ID = 1604
			LOSE_EVENT_ID = 1605
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = intrigue
					subtract = scope:main_figure.intrigue
					multiply = 5
				}
				always = yes
			}
		}
	}
}

#Loot Artifact: Combat outcome event
agot_nw_ranger_events.1603 = {
	hidden = yes

	immediate = {
		#Player Lost
		if = {
			limit = { scope:sc_victor = scope:main_figure }
			scope:sc_loser = {
				if = {
					limit = { is_alive = yes }
					trigger_event = agot_nw_ranger_events.1605
				}
			}
		}
		#Player Won
		else = { scope:sc_victor = { trigger_event = agot_nw_ranger_events.1604 } }
	}
}

#Loot Artifact: You Win
agot_nw_ranger_events.1604 = {
	type = character_event
	window = scheme_successful_event
	title = agot_nw_ranger_events.1604.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1604.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1604.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1604.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1604.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1604.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1604.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1604.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1604.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1604.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1604.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1604.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1604.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1604.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1604.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1604.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = aggressive_sword
	}
	right_portrait = {
		character = scope:main_figure
		animation = map_fear
		camera = shop_camera_main_closeup_angle_15
	}

	override_background = { reference = terrain_scope }

	artifact = {
		target = scope:wildling_artifact
		position = lower_center_portrait
	}

	immediate = {
		scope:task_contract = { complete_task_contract = success_standard }
		scope:wildling_artifact = { set_owner = root }
		if = {
			limit = {
				OR = {
					scope:method = flag:martial
					scope:method = flag:intrigue
				}
			}
			random = {
				chance = 50
				scope:main_figure = {
					if = {
						limit = { is_alive = yes }
						death = {
							death_reason = death_battle
							killer = root
						}
					}
				}
			}
		}
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1604.a
		scope:main_figure = {
			if = {
				limit = { is_alive = yes }
				add_opinion = {
					target = root
					modifier = stole_artifact_from_me
					opinion = -80
				}
			}
		}
	}
}

#Loot Artifact: You Lose
agot_nw_ranger_events.1605 = {
	type = character_event
	window = scheme_failed_event
	title = agot_nw_ranger_events.1605.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1605.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1605.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1605.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1605.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1605.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1605.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1605.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1605.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1605.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1605.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1605.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1605.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1605.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1605.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1605.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = severelywounded
		camera = shop_camera_main_closeup_angle_15
	}

	right_portrait = {
		character = scope:main_figure
		animation = celebrate_axe
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = failure_standard }
		if = {
			limit = {
				OR = {
					scope:method = flag:martial
					scope:method = flag:intrigue
				}
			}
			random_list = {
				50 = {
					if = {
						limit = { is_alive = yes }
						add_character_flag = dead
					}
				}
				50 = {
					if = {
						limit = {
							current_date >= 8253.1.1
							character:Targaryen_96 = { NOT = { is_alive = yes } }
							any_artifact = { NOT = { has_artifact_modifier = vs_dark_sister_modifier } }
							NOT = { has_game_rule = agot_story_historical_events_historical_outcomes }
						}
						random = {
							chance = {
								value = 0.1
								if = {
									limit = { real_paternal_held_iron_throne_claim = yes }
									add = 0.99
								}
							}
							add_character_flag = darksis
						}
					}
				}
			}
		}
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1605.a

		if = {
			limit = { has_character_flag = darksis }
			trigger_event = {
				id = agot_nw_ranger_events.0004
				days = { 3 5 }
			}
			remove_character_flag = darksis
		}
		else_if = {
			limit = { has_character_flag = dead }
			death = {
				death_reason = death_battle
				killer = scope:main_figure
			}
		}
	}
}

##################################
### ranger_laamp_contract_1701 ###
##################################

#Turncloak I
agot_nw_ranger_events.1701 = {
	type = character_event
	title = agot_nw_ranger_events.1701.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1701.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1701.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1701.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1701.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1701.desc.intro_e }
		}
		desc = agot_nw_ranger_events.1701.desc.outro
	}

	left_portrait = {
		character = root
		animation = thinking
	}
	lower_right_portrait = {
		character = scope:main_figure
		animation = personality_bold
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:employer.capital_county = {
			save_scope_as = destination_1
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}
		add_character_flag = the_turnloack

		location = { save_scope_as = background_terrain_scope }

		scope:employer = { save_scope_as = main_figure }

		scope:main_figure = {
			capital_county = {
				random_neighboring_county = {
					limit = {
						exists = holder
						holder = {
							culture = { agot_is_wildling_culture = yes }
							is_landed = yes
							highest_held_title_tier = tier_county
							capital_county.title_province = { geographical_region = world_westeros_beyond_the_wall }
							NOT = { is_vassal_of = scope:main_figure }
							NOT = { is_allied_to = scope:main_figure }
						}
					}
					holder = {
						random_held_title = {
							limit = { tier = tier_county }
							save_scope_as = deserter_title
						}
					}
				}
			}
		}
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.1701.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1701.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1702
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.1701.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1701.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1702
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#Turncloak II
agot_nw_ranger_events.1702 = {
	type = character_event
	title = agot_nw_ranger_events.1702.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.outro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.outro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.outro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.outro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1702.desc.outro_e }
		}
	}

	left_portrait = {
		character = root
		animation = thinking
	}
	right_portrait = {
		character = scope:main_figure
		animation = scheme
	}
	lower_center_portrait = {
		character = scope:an_enemy
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:deserter_title.holder = { save_scope_as = an_enemy }
	}

	#Desert
	option = {
		name = agot_nw_ranger_events.1702.a
		custom_tooltip = desert_and_war
		trigger_event = agot_nw_ranger_events.1704
		ai_chance = {
			base = 0
			ai_value_modifier = {
				ai_boldness = 0.5
				ai_rationality = -1
				ai_greed = 0.5
			}
			modifier = {
				add = 50
				culture = { agot_is_wildling_culture = yes }
			}
			modifier = {
				add = 50
				OR = {
					has_faith = faith:old_gods_btw_fnf
					has_faith = faith:old_gods_btw_sas
					has_faith = faith:old_gods_btw_sni
					has_faith = faith:old_gods_btw_pnv
				}
			}
		}
	}

	#No
	option = {
		name = agot_nw_ranger_events.1702.b
		trigger_event = agot_nw_ranger_events.1705
		ai_chance = {
			base = 0
			ai_value_modifier = {
				ai_honor = 2
			}
		}
	}
}

#Turncloak: You Win
agot_nw_ranger_events.1704 = {
	type = character_event

	title = agot_nw_ranger_events.1704.t
	desc = agot_nw_ranger_events.1704.desc

	theme = nightswatch

	left_portrait = {
		character = root
		animation = war_attacker
	}
	right_portrait = {
		character = scope:main_figure
		animation = war_defender
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = success_standard }
		hidden_effect = { return_home = yes }

		save_scope_as = deserter

		scope:deserter = {
			create_alliance = {
				target = scope:main_figure
				allied_through_owner = scope:deserter
				allied_through_target = scope:main_figure
			}

			set_variable = {
				name = culture_and_faith
				value = scope:main_figure
			}

			set_variable = {
				name = my_possible_liege
				value = scope:main_figure
			}

			if = {
				limit = { exists = scope:main_figure.primary_heir }
				set_variable = {
					name = my_possible_liege_heir
					value = scope:main_figure.primary_heir
				}
			}

			add_character_flag = deserter_attack
		}

		if = {
			limit = {
				any_courtier = {
					is_alive = yes
					has_trait = nightswatch
				}
			}
			every_courtier = {
				limit = {
					is_alive = yes
					has_trait = nightswatch
				}
				add_to_list = going_back_to_the_wall
			}
		}
	}

	option = {
		name = agot_nw_ranger_events.1704.a
		hidden_effect = { title:d_dummy_nw_landless = { copy_title_history = title:d_nw_landless_first_ranger } }
		remove_trait = nightswatch
		remove_trait = lifestyle_nw_ranger
		add_trait = deserter
		remove_character_flag = nw_ranger_title

		hidden_effect = {
			end_ranger_story = yes
			every_in_list = {
				list = going_back_to_the_wall
				title:k_the_wall.holder = { add_courtier = prev }
			}
		}

		create_landless_adventurer_title_effect = {
			REASON = flag:voluntary
			FLAVOR_CHAR = root
		}

		title:k_the_wall.holder = {
			add_character_flag = fr_assign_block
			trigger_event = {
				id = agot_nw_ranger_events.0005
				days = 1
			}
		}

		save_scope_as = secret_child
		spawn_army = {
			levies = 0
			men_at_arms = {
				type = nw_rangers
				stacks = 2
			}
			inheritable = no
			location = scope:deserter.location
			name = secret_spawned_army
		}

		start_war = {
			target = scope:deserter_title.holder
			casus_belli = ep3_laamp_adventurer_county_invasion
			target_title = scope:deserter_title
		}
	}
	after = {
		random_character_war = {
			limit = {
				using_cb = ep3_laamp_adventurer_county_invasion
				primary_attacker = scope:deserter
				primary_defender = scope:deserter_title.holder
			}
			add_attacker = scope:main_figure
		}
	}
}

#Turncloak: You Lose
agot_nw_ranger_events.1705 = {
	type = character_event

	title = agot_nw_ranger_events.1705.t
	desc = agot_nw_ranger_events.1705.desc

	theme = nightswatch

	left_portrait = {
		character = root
		animation = war_attacker
	}
	right_portrait = {
		character = scope:main_figure
		animation = dismissal
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = failure_standard }
	}

	#How dare you.
	option = {
		name = agot_nw_ranger_events.1705.a
		trigger = { can_start_single_combat_trigger = yes }

		scope:main_figure = { save_scope_as = opponent }
		custom_tooltip = agot_nw_ranger_events_duel_begins
		scope:task_contract = { set_variable = duel_engaged }
		configure_start_single_combat_effect = {
			SC_INITIATOR = root
			SC_ATTACKER = root
			SC_DEFENDER = scope:main_figure
			FATALITY = always
			FIXED = no
			LOCALE = terrain_scope
			INVALIDATION_EVENT = single_combat.1006
			OUTPUT_EVENT = agot_nw_ranger_events.1903
		}

		stress_impact = {
			brave = minor_stress_impact_loss
			craven = medium_stress_impact_gain
		}
		ai_chance = {
			base = 0
			ai_value_modifier = {
				ai_honor = 1
			}
		}
	}

	#I leave.
	option = {
		name = agot_nw_ranger_events.1705.b

		ai_chance = {
			base = 0
			ai_value_modifier = {
				ai_boldness = -1
			}
		}
	}

	after = { hidden_effect = { return_home = yes } }
}

#Turncloak: Becoming Landed - Post-War Event
agot_nw_ranger_events.1706 = {
	type = character_event

	title = agot_nw_ranger_events.1706.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_character_flag = wildling_deserter }
				desc = agot_nw_ranger_events.1706.desc_wildling
			}
			triggered_desc = {
				trigger = { NOT = { has_character_flag = wildling_deserter } }
				desc = agot_nw_ranger_events.1706.desc
			}
		}
	}

	theme = nightswatch

	left_portrait = {
		trigger = { exists = scope:new_liege }
		character = scope:new_liege
		animation = war_defender
	}
	right_portrait = {
		character = root
		animation = war_attacker
	}

	override_background = { reference = terrain_scope }

	immediate = {
		location = { save_scope_as = background_terrain_scope }

		if = {
			limit = {
				OR = {
					culture = { agot_is_wildling_culture = yes }
					has_faith = faith:old_gods_btw_fnf
					has_faith = faith:old_gods_btw_sas
					has_faith = faith:old_gods_btw_sni
					has_faith = faith:old_gods_btw_pnv
				}
			}
			add_character_flag = {
				flag = wildling_deserter
				days = 50
			}
		}


		if = {
			limit = {
				exists = var:my_possible_liege
				var:my_possible_liege = {
					is_alive = yes
					is_landed = yes
					highest_held_title_tier >= tier_duchy
				}
			}
			var:my_possible_liege = { save_scope_as = new_liege }
		}
		else_if = {
			limit = {
				exists = var:my_possible_liege_heir
				var:my_possible_liege_heir = {
					is_alive = yes
					is_landed = yes
					highest_held_title_tier >= tier_duchy
				}
			}
			var:my_possible_liege_heir = { save_scope_as = new_liege }
		}

		if = {
			limit = {
				highest_held_title_tier = tier_county
				exists = scope:new_liege
			}
			create_title_and_vassal_change = {
				type = swear_fealty
				save_scope_as = change
			}
			change_liege = {
				liege = scope:new_liege
				change = scope:change
			}
			resolve_title_and_vassal_change = scope:change
		}

		var:culture_and_faith = { save_scope_as = culture_and_faith }
		remove_variable = culture_and_faith
		if = {
			limit = { exists = var:my_possible_liege }
			remove_variable = my_possible_liege
		}
		if = {
			limit = { exists = var:my_possible_liege_heir }
			remove_variable = my_possible_liege_heir
		}
	}

	#Convert my faith
	option = {
		name = agot_nw_ranger_events.1706.a

		set_character_faith = scope:culture_and_faith.faith

		ai_chance = {
			base = 0
			ai_value_modifier = {
				ai_zeal = -1
			}
		}
	}

	#Convert my culture
	option = {
		name = agot_nw_ranger_events.1706.b

		set_culture = scope:culture_and_faith.culture

		ai_chance = {
			base = 0
			ai_value_modifier = {
				ai_rationality = -1
			}
		}
	}

	#Convert both my faith and culture
	option = {
		name = agot_nw_ranger_events.1706.c

		set_character_faith = scope:culture_and_faith.faith
		set_culture = scope:culture_and_faith.culture

		ai_chance = {
			base = 0
			ai_value_modifier = {
				ai_zeal = -0.5
				ai_rationality = -0.5
			}
		}
	}

	#None
	option = {
		name = agot_nw_ranger_events.1706.d

		ai_chance = {
			base = 0
			ai_value_modifier = {
				ai_zeal = 0.5
				ai_rationality = 0.5
			}
		}
	}
}

##################################
### ranger_laamp_contract_1801 ###
##################################

#Wildling Seduction I
agot_nw_ranger_events.1801 = {
	type = character_event
	title = agot_nw_ranger_events.1801.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1801.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1801.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1801.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1801.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1801.desc.intro_e }
		}
		desc = agot_nw_ranger_events.1801.desc.outro
	}

	right_portrait = {
		character = root
		animation = thinking
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:employer.capital_county = {
			save_scope_as = destination_1
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}

		location = { save_scope_as = background_terrain_scope }

		scope:employer = { save_scope_as = main_figure }
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.1801.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1801.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1802
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.1801.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1801.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1802
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#Wildling Seduction II
agot_nw_ranger_events.1802 = {
	type = character_event
	title = agot_nw_ranger_events.1802.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.outro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.outro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.outro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.outro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1802.desc.outro_e }
		}
	}

	left_portrait = {
		character = root
		animation = disappointed
	}
	right_portrait = {
		character = scope:main_figure
		animation = flirtation_left
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	#Intrigue: challenge
	option = {
		name = agot_nw_ranger_events.1802.a
		trigger = { scope:main_figure = { might_cheat_on_every_partner_trigger = yes } }

		skill = intrigue

		save_scope_value_as = {
			name = method
			value = flag:intrigue
		}
		save_scope_value_as = {
			name = method_option
			value = flag:one
		}
		agot_nw_contract_challenge = {
			SKILL = intrigue
			OPTION = a
			EVENT_ID = 1802
			WIN_EVENT_ID = 1804
			LOSE_EVENT_ID = 1805
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = intrigue
					subtract = scope:main_figure.intrigue
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Diplomacy: challenge
	option = {
		name = agot_nw_ranger_events.1802.b

		skill = diplomacy

		save_scope_value_as = {
			name = method
			value = flag:diplomacy
		}
		save_scope_value_as = {
			name = method_option
			value = flag:two
		}
		agot_nw_contract_challenge = {
			SKILL = diplomacy
			OPTION = b
			EVENT_ID = 1802
			WIN_EVENT_ID = 1804
			LOSE_EVENT_ID = 1805
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = diplomacy
					subtract = scope:main_figure.diplomacy
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Learning: challenge
	option = {
		name = agot_nw_ranger_events.1802.c
		skill = learning

		save_scope_value_as = {
			name = method
			value = flag:learning
		}
		save_scope_value_as = {
			name = method_option
			value = flag:three
		}
		agot_nw_contract_challenge = {
			SKILL = learning
			OPTION = c
			EVENT_ID = 1802
			WIN_EVENT_ID = 1804
			LOSE_EVENT_ID = 1805
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = learning
					subtract = scope:main_figure.learning
					multiply = 5
				}
				always = yes
			}
		}
	}
}

#Wildling Seduction: You Win
agot_nw_ranger_events.1804 = {
	type = character_event
	window = scheme_successful_event
	title = agot_nw_ranger_events.1804.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1804.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1804.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1804.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1804.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1804.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1804.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1804.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1804.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1804.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1804.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1804.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1804.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1804.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1804.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1804.desc.three.e }
		}
	}

	theme = nightswatch
	center_portrait = {
		character = root
		animation = flirtation
	}
	right_portrait = {
		character = scope:main_figure
		animation = love
	}
	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = success_standard }
		if = {
			limit = { scope:method = flag:intrigue }
			if = {
				limit = {
					scope:main_figure = { might_cheat_on_every_partner_trigger = yes }
					can_set_relation_lover_trigger = { CHARACTER = scope:main_figure }
				}
				set_relation_lover = { reason = lover_random_3 target = scope:main_figure }
			}
		}
		else_if = {
			limit = { scope:method = flag:diplomacy }
			if = {
				limit = {
					can_set_relation_friend_trigger = { CHARACTER = scope:main_figure }
				}
				set_relation_friend = { reason = friend_random_3 target = scope:main_figure }
			}
		}
		else_if = {
			limit = { scope:method = flag:learning }
			scope:main_figure = {
				add_opinion = {
					target = root
					modifier = friendly_interaction
					opinion = 35
				}
			}
		}
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1804.a

		add_character_flag = wildling_lover
	}
}

#Wildling Seduction: You Lose
agot_nw_ranger_events.1805 = {
	type = character_event
	window = scheme_failed_event
	title = agot_nw_ranger_events.1805.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1805.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1805.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1805.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1805.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1805.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1805.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1805.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1805.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1805.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1805.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1805.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1805.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1805.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1805.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1805.desc.three.e }
		}
	}

	theme = nightswatch
	left_portrait = {
		character = scope:main_figure
		animation = dismissal
	}
	center_portrait = {
		character = root
		animation = stress
	}
	right_portrait = {
		character = scope:main_figure
		animation = schadenfreude
	}
	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = failure_standard }
		hidden_effect = { return_home = yes }
		#imprison
	}

	option = {
		name = agot_nw_ranger_events.1805.a
	}
}

##################################
### ranger_laamp_contract_1901 ###
##################################

#Catch Deserter I
agot_nw_ranger_events.1901 = {
	type = character_event
	title = agot_nw_ranger_events.1901.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1901.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1901.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1901.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1901.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1901.desc.intro_e }
		}
		desc = agot_nw_ranger_events.1901.desc.outro
	}

	right_portrait = {
		character = root
		animation = personality_bold
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		if = {
			limit = {
				scope:employer = {
					OR = {
						any_courtier_or_guest = { has_trait = deserter }
						has_trait = deserter
					}
				}
			}
			scope:employer = {
				if = {
					limit = { has_trait = deserter }
					save_scope_as = enemy_deserter
				}
				else_if = {
					random_courtier_or_guest = {
						limit = { has_trait = deserter }
						save_scope_as = main_figure
					}
				}
			}
			scope:employer.capital_county = {
				save_scope_as = destination_1
			}
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}

		location = { save_scope_as = background_terrain_scope }
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.1901.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1901.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1902
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.1901.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.1901.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.1902
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#Catch Deserter II
agot_nw_ranger_events.1902 = {
	type = character_event
	title = agot_nw_ranger_events.1902.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.outro_a }
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.outro_b }
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.outro_c }
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.outro_d }
			triggered_desc = { desc = agot_nw_ranger_events.1902.desc.outro_e }
		}
	}

	left_portrait = {
		character = root
		animation = inspect_weapon
	}
	right_portrait = {
		character = scope:my_ranger
		animation = aggressive_sword
	}
	lower_center_portrait = {
		character = scope:main_figure
		animation = personality_bold
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	#Prowess: duel
	option = {
		name = agot_nw_ranger_events.1902.a
		trigger = { can_start_single_combat_trigger = yes }
		skill = prowess

		save_scope_value_as = {
			name = method
			value = flag:prowess_sce
		}
		save_scope_value_as = {
			name = method_option
			value = flag:one
		}
		scope:main_figure = { save_scope_as = opponent }
		custom_tooltip = agot_nw_ranger_events_duel_begins
		scope:task_contract = { set_variable = duel_engaged }
		configure_start_single_combat_effect = {
			SC_INITIATOR = root
			SC_ATTACKER = root
			SC_DEFENDER = scope:main_figure
			FATALITY = always
			FIXED = no
			LOCALE = terrain_scope
			INVALIDATION_EVENT = single_combat.1006
			OUTPUT_EVENT = agot_nw_ranger_events.1903
		}

		stress_impact = {
			brave = minor_stress_impact_loss
			craven = medium_stress_impact_gain
		}
		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = prowess
					subtract = scope:main_figure.prowess
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Intrigue: challenge
	option = {
		name = agot_nw_ranger_events.1902.b

		skill = intrigue

		save_scope_value_as = {
			name = method
			value = flag:intrigue
		}
		save_scope_value_as = {
			name = method_option
			value = flag:two
		}
		agot_nw_contract_challenge = {
			SKILL = intrigue
			OPTION = b
			EVENT_ID = 1902
			WIN_EVENT_ID = 1904
			LOSE_EVENT_ID = 1905
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = intrigue
					subtract = scope:main_figure.intrigue
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Martial: challenge
	option = {
		name = agot_nw_ranger_events.1902.c
		skill = martial

		save_scope_value_as = {
			name = method
			value = flag:martial
		}
		save_scope_value_as = {
			name = method_option
			value = flag:three
		}
		agot_nw_contract_challenge = {
			SKILL = martial
			OPTION = c
			EVENT_ID = 1902
			WIN_EVENT_ID = 1904
			LOSE_EVENT_ID = 1905
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = martial
					subtract = scope:main_figure.martial
					multiply = 5
				}
				always = yes
			}
		}
	}
}

#Catch Deserter: Combat outcome event
agot_nw_ranger_events.1903 = {
	hidden = yes

	immediate = {
		#Player Lost
		if = {
			limit = { scope:sc_victor = scope:main_figure }
			scope:sc_loser = {
				if = {
					limit = { is_alive = yes }
					trigger_event = agot_nw_ranger_events.1905
				}
			}
		}
		#Player Won
		else = { scope:sc_victor = { trigger_event = agot_nw_ranger_events.1904 } }
	}
}

#Catch Deserter: You Win
agot_nw_ranger_events.1904 = {
	type = character_event
	window = scheme_successful_event
	title = agot_nw_ranger_events.1904.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1904.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1904.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1904.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1904.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1904.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1904.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1904.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1904.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1904.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1904.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1904.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1904.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1904.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1904.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1904.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = aggressive_sword
	}
	right_portrait = {
		character = scope:main_figure
		animation = map_fear
		camera = shop_camera_main_closeup_angle_15
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = success_standard }
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1904.a

		scope:main_figure = {
			if = {
				limit = { is_alive = yes }
				death = {
					death_reason = death_battle
					killer = root
				}
			}
		}
	}
}

#Catch Deserter: You Lose
agot_nw_ranger_events.1905 = {
	type = character_event
	window = scheme_failed_event
	title = agot_nw_ranger_events.1905.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1905.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1905.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1905.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1905.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.1905.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1905.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1905.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1905.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1905.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.1905.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1905.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1905.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1905.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1905.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.1905.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = severelywounded
		camera = shop_camera_main_closeup_angle_15
	}

	right_portrait = {
		character = scope:main_figure
		animation = celebrate_sword
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = failure_standard }
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.1905.a
	}
}

##################################
### ranger_laamp_contract_2001 ###
##################################

#Rescue Blackbrother I
agot_nw_ranger_events.2001 = {
	type = character_event
	title = agot_nw_ranger_events.2001.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2001.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.2001.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.2001.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.2001.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.2001.desc.intro_e }
		}
		desc = agot_nw_ranger_events.2001.desc.outro
	}

	left_portrait = {
		character = root
		animation = personality_bold
	}
	lower_right_portrait = {
		character = scope:rescued_bb
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:employer.capital_county = {
			save_scope_as = destination_1
		}
		create_character = {
			age = { 18 40 }
			dynasty = none
			culture = culture:northman
			faith = faith:old_gods_wnw
			location = scope:employer.location
			gender = male
			trait = nightswatch
			save_scope_as = rescued_bb
			after_creation = {
				add_trait_xp = {
					trait = nightswatch
					value = 100
				}
			}
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}

		location = { save_scope_as = background_terrain_scope }

		scope:employer = { save_scope_as = main_figure }
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.2001.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.2001.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.2002
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.2001.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.2001.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.2002
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#Rescue Blackbrother II
agot_nw_ranger_events.2002 = {
	type = character_event
	title = agot_nw_ranger_events.2002.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.outro_a }
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.outro_b }
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.outro_c }
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.outro_d }
			triggered_desc = { desc = agot_nw_ranger_events.2002.desc.outro_e }
		}
	}

	left_portrait = {
		character = scope:rescued_bb
		animation = fear
	}
	right_portrait = {
		character = scope:main_figure
		animation = aggressive_axe
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	#Prowess: duel
	option = {
		name = agot_nw_ranger_events.2002.a
		trigger = { can_start_single_combat_trigger = yes }
		skill = prowess

		save_scope_value_as = {
			name = method
			value = flag:prowess_sce
		}
		save_scope_value_as = {
			name = method_option
			value = flag:one
		}
		scope:main_figure = { save_scope_as = opponent }
		custom_tooltip = agot_nw_ranger_events_duel_begins
		scope:task_contract = { set_variable = duel_engaged }
		configure_start_single_combat_effect = {
			SC_INITIATOR = root
			SC_ATTACKER = root
			SC_DEFENDER = scope:main_figure
			FATALITY = always
			FIXED = no
			LOCALE = terrain_scope
			INVALIDATION_EVENT = single_combat.1006
			OUTPUT_EVENT = agot_nw_ranger_events.2003
		}

		stress_impact = {
			brave = minor_stress_impact_loss
			craven = medium_stress_impact_gain
		}
		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = prowess
					subtract = scope:main_figure.prowess
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Diplomacy: challenge
	option = {
		name = agot_nw_ranger_events.2002.b
		skill = diplomacy

		save_scope_value_as = {
			name = method
			value = flag:diplomacy
		}
		save_scope_value_as = {
			name = method_option
			value = flag:two
		}
		agot_nw_contract_challenge = {
			SKILL = diplomacy
			OPTION = b
			EVENT_ID = 2002
			WIN_EVENT_ID = 2004
			LOSE_EVENT_ID = 2005
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = diplomacy
					subtract = scope:main_figure.diplomacy
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Intrigue: challenge
	option = {
		name = agot_nw_ranger_events.2002.c
		skill = intrigue

		save_scope_value_as = {
			name = method
			value = flag:intrigue
		}
		save_scope_value_as = {
			name = method_option
			value = flag:three
		}
		agot_nw_contract_challenge = {
			SKILL = intrigue
			OPTION = c
			EVENT_ID = 2002
			WIN_EVENT_ID = 2004
			LOSE_EVENT_ID = 2005
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = intrigue
					subtract = scope:main_figure.intrigue
					multiply = 5
				}
				always = yes
			}
		}
	}
}

#Kill the Upcoming Chief: Combat outcome event
agot_nw_ranger_events.2003 = {
	hidden = yes

	immediate = {
		#Player Lost
		if = {
			limit = { scope:sc_victor = scope:main_figure }
			scope:sc_loser = {
				if = {
					limit = { is_alive = yes }
					trigger_event = agot_nw_ranger_events.2005
				}
			}
		}
		#Player Won
		else = { scope:sc_victor = { trigger_event = agot_nw_ranger_events.2004 } }
	}
}

#Rescue Blackbrother: You Win
agot_nw_ranger_events.2004 = {
	type = character_event
	window = scheme_successful_event
	title = agot_nw_ranger_events.2004.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.2004.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.2004.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.2004.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.2004.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.2004.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.2004.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.2004.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.2004.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.2004.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.2004.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.2004.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.2004.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.2004.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.2004.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.2004.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = aggressive_sword
	}
	right_portrait = {
		character = scope:main_figure
		animation = map_fear
		camera = shop_camera_main_closeup_angle_15
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = success_standard }
		add_courtier = scope:rescued_bb
		hidden_effect = { return_home = yes }
		add_character_flag = blackbrother_found
		if = {
			limit = {
				scope:method = flag:intrigue
			}
			random = {
				chance = 50
				if = {
					limit = { scope:main_figure = { is_alive = yes } }
					scope:main_figure = {
						death = {
							death_reason = death_battle
							killer = root
						}
					}
				}
			}
		}
	}

	option = {
		name = agot_nw_ranger_events.2004.a

		scope:main_figure = {
			if = {
				limit = { is_alive = yes }
				add_opinion = {
					target = root
					modifier = insult_opinion
					opinion = -50
				}
			}
		}
	}
}

#Rescue Blackbrother: You Lose
agot_nw_ranger_events.2005 = {
	type = character_event
	window = scheme_failed_event
	title = agot_nw_ranger_events.2005.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.2005.desc.one.a }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.2005.desc.one.b }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.2005.desc.one.c }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.2005.desc.one.d }
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.2005.desc.one.e }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.2005.desc.two.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.2005.desc.two.b }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.2005.desc.two.c }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.2005.desc.two.d }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.2005.desc.two.e }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.2005.desc.three.a }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.2005.desc.three.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.2005.desc.three.c }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.2005.desc.three.d }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.2005.desc.three.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = scope:rescued_bb
		animation = fear
	}
	right_portrait = {
		character = scope:main_figure
		animation = celebrate_axe
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = failure_standard }
		scope:rescued_bb = {
			if = {
				limit = { is_alive = yes }
				death = {
					death_reason = death_battle
					killer = scope:main_figure
				}
			}
		}
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.2005.a
		custom_tooltip = agot_nw_ranger_events.2005.a.tt
	}
}

##################################
### ranger_laamp_contract_2101 ###
##################################

#Investigation I
agot_nw_ranger_events.2101 = {
	type = character_event
	title = agot_nw_ranger_events.2101.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2101.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.2101.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.2101.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.2101.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.2101.desc.intro_e }
		}
		desc = agot_nw_ranger_events.2101.desc.outro
	}

	right_portrait = {
		character = root
		animation = personality_bold
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:employer.capital_county = {
			save_scope_as = destination_1
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}

		add_character_flag = {
			flag = signs_in_the_snow
			months = { 3 12 }
		}

		location = { save_scope_as = background_terrain_scope }

		scope:employer = { save_scope_as = main_figure }
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.2101.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.2101.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.2102
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.2101.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.2101.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.2102
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#Investigation II
agot_nw_ranger_events.2102 = {
	type = character_event
	title = agot_nw_ranger_events.2102.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2102.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.2102.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.2102.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.2102.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.2102.desc.intro_e }
		}
		desc = agot_nw_ranger_events.2102.desc.outro
	}

	left_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = scope:my_ranger
		animation = war_defender
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	#Cave
	option = {
		name = agot_nw_ranger_events.2102.a
		save_scope_as = cave
		trigger_event = agot_nw_ranger_events.2103
		ai_chance = {
			base = 1
		}
	}

	#Woods
	option = {
		name = agot_nw_ranger_events.2102.b
		save_scope_as = woods
		trigger_event = agot_nw_ranger_events.2103
		ai_chance = {
			base = 1
		}
	}

	#Hill
	option = {
		name = agot_nw_ranger_events.2102.c
		save_scope_as = hill
		trigger_event = agot_nw_ranger_events.2103
		ai_chance = {
			base = 1
		}
	}
}

#Investigation III
agot_nw_ranger_events.2103 = {
	type = character_event
	title = {
		desc = {
			first_valid = {
				triggered_desc = {
					trigger = { exists = scope:cave }
					desc = agot_nw_ranger_events.2103.t.cave
				}
				triggered_desc = {
					trigger = { exists = scope:woods }
					desc = agot_nw_ranger_events.2103.t.woods
				}
				triggered_desc = {
					trigger = { exists = scope:hill }
					desc = agot_nw_ranger_events.2103.t.hill
				}
			}
		}
	}
	desc = {
		random_valid = {
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.intro_a.cave }
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.intro_b.cave }
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.intro_c.cave }
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.intro_d.cave }
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.intro_e.cave }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.intro_a.woods }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.intro_b.woods }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.intro_c.woods }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.intro_d.woods }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.intro_e.woods }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.intro_a.hill }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.intro_b.hill }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.intro_c.hill }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.intro_d.hill }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.intro_e.hill }
		}
		random_valid = {
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.mid_a.cave }
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.mid_b.cave }
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.mid_c.cave }
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.mid_d.cave }
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.mid_e.cave }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.mid_a.woods }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.mid_b.woods }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.mid_c.woods }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.mid_d.woods }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.mid_e.woods }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.mid_a.hill }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.mid_b.hill }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.mid_c.hill }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.mid_d.hill }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.mid_e.hill }
		}
		random_valid = {
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.outro_a.cave }
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.outro_b.cave }
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.outro_c.cave }
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.outro_d.cave }
			triggered_desc = { trigger = { exists = scope:cave } desc = agot_nw_ranger_events.2103.desc.outro_e.cave }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.outro_a.woods }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.outro_b.woods }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.outro_c.woods }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.outro_d.woods }
			triggered_desc = { trigger = { exists = scope:woods } desc = agot_nw_ranger_events.2103.desc.outro_e.woods }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.outro_a.hill }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.outro_b.hill }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.outro_c.hill }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.outro_d.hill }
			triggered_desc = { trigger = { exists = scope:hill } desc = agot_nw_ranger_events.2103.desc.outro_e.hill }
		}
	}

	right_portrait = {
		character = root
		animation = thinking
	}

	theme = nightswatch
	override_background = {
		trigger = { exists = scope:cave }
		reference = agot_icecave
	}
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		save_scope_value_as = {
			name = value_a_1
			value = {
				integer_range = {
					min = 1
					max = 25
				}
			}
		}
		save_scope_value_as = {
			name = value_a_2
			value = {
				integer_range = {
					min = 1
					max = 25
				}
			}
		}
		save_scope_value_as = {
			name = value_b_1
			value = {
				integer_range = {
					min = 1
					max = 25
				}
			}
		}
		save_scope_value_as = {
			name = value_b_2
			value = {
				integer_range = {
					min = 1
					max = 25
				}
			}
		}
		save_scope_value_as = {
			name = value_c_1
			value = {
				integer_range = {
					min = 1
					max = 25
				}
			}
		}
		save_scope_value_as = {
			name = value_c_2
			value = {
				integer_range = {
					min = 1
					max = 25
				}
			}
		}
	}

	#
	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = { exists = scope:cave }
						desc = agot_nw_ranger_events.2103.a.cave
					}
					triggered_desc = {
						trigger = { exists = scope:woods }
						desc = agot_nw_ranger_events.2103.a.woods
					}
					triggered_desc = {
						trigger = { exists = scope:hill }
						desc = agot_nw_ranger_events.2103.a.hill
					}
				}
			}
		}

		#Random Values
		save_scope_value_as = {
			name = win_value
			value = scope:value_a_1
		}
		save_scope_value_as = {
			name = lose_value
			value = scope:value_a_2
		}

		#Quest Path
		if = {
			limit = { exists = scope:cave }
			save_scope_value_as = {
				name = quest_path
				value = flag:cave_a
			}
			agot_nw_contract_challenge_random = {
				OPTION = a
				EVENT_ID = 2103
				WIN_EVENT_ID = 2104
				LOSE_EVENT_ID = 2105
				SCENARIO = cave
			}
		}
		else_if = {
			limit = { exists = scope:woods }
			save_scope_value_as = {
				name = quest_path
				value = flag:woods_a
			}
			agot_nw_contract_challenge_random = {
				OPTION = a
				EVENT_ID = 2103
				WIN_EVENT_ID = 2104
				LOSE_EVENT_ID = 2105
				SCENARIO = woods
			}
		}
		else_if = {
			limit = { exists = scope:hill }
			save_scope_value_as = {
				name = quest_path
				value = flag:hill_a
			}
			agot_nw_contract_challenge_random = {
				OPTION = a
				EVENT_ID = 2103
				WIN_EVENT_ID = 2104
				LOSE_EVENT_ID = 2105
				SCENARIO = hill
			}
		}

		ai_chance = {
			base = 1
		}
	}

	#
	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = { exists = scope:cave }
						desc = agot_nw_ranger_events.2103.b.cave
					}
					triggered_desc = {
						trigger = { exists = scope:woods }
						desc = agot_nw_ranger_events.2103.b.woods
					}
					triggered_desc = {
						trigger = { exists = scope:hill }
						desc = agot_nw_ranger_events.2103.b.hill
					}
				}
			}
		}

		#Random Values
		save_scope_value_as = {
			name = win_value
			value = scope:value_b_1
		}
		save_scope_value_as = {
			name = lose_value
			value = scope:value_b_2
		}

		#Quest Path
		if = {
			limit = { exists = scope:cave }
			save_scope_value_as = {
				name = quest_path
				value = flag:cave_b
			}
			agot_nw_contract_challenge_random = {
				OPTION = b
				EVENT_ID = 2103
				WIN_EVENT_ID = 2104
				LOSE_EVENT_ID = 2105
				SCENARIO = cave
			}
		}
		else_if = {
			limit = { exists = scope:woods }
			save_scope_value_as = {
				name = quest_path
				value = flag:woods_b
			}
			agot_nw_contract_challenge_random = {
				OPTION = b
				EVENT_ID = 2103
				WIN_EVENT_ID = 2104
				LOSE_EVENT_ID = 2105
				SCENARIO = woods
			}
		}
		else_if = {
			limit = { exists = scope:hill }
			save_scope_value_as = {
				name = quest_path
				value = flag:hill_b
			}
			agot_nw_contract_challenge_random = {
				OPTION = b
				EVENT_ID = 2103
				WIN_EVENT_ID = 2104
				LOSE_EVENT_ID = 2105
				SCENARIO = hill
			}
		}

		ai_chance = {
			base = 1
		}
	}

	#
	option = {
		name = {
			text = {
				first_valid = {
					triggered_desc = {
						trigger = { exists = scope:cave }
						desc = agot_nw_ranger_events.2103.c.cave
					}
					triggered_desc = {
						trigger = { exists = scope:woods }
						desc = agot_nw_ranger_events.2103.c.woods
					}
					triggered_desc = {
						trigger = { exists = scope:hill }
						desc = agot_nw_ranger_events.2103.c.hill
					}
				}
			}
		}

		#Random Values
		save_scope_value_as = {
			name = win_value
			value = scope:value_c_1
		}
		save_scope_value_as = {
			name = lose_value
			value = scope:value_c_2
		}

		#Quest Path
		if = {
			limit = { exists = scope:cave }
			save_scope_value_as = {
				name = quest_path
				value = flag:cave_c
			}
			agot_nw_contract_challenge_random = {
				OPTION = c
				EVENT_ID = 2103
				WIN_EVENT_ID = 2104
				LOSE_EVENT_ID = 2105
				SCENARIO = cave
			}
		}
		else_if = {
			limit = { exists = scope:woods }
			save_scope_value_as = {
				name = quest_path
				value = flag:woods_c
			}
			agot_nw_contract_challenge_random = {
				OPTION = c
				EVENT_ID = 2103
				WIN_EVENT_ID = 2104
				LOSE_EVENT_ID = 2105
				SCENARIO = woods
			}
		}
		else_if = {
			limit = { exists = scope:hill }
			save_scope_value_as = {
				name = quest_path
				value = flag:hill_c
			}
			agot_nw_contract_challenge_random = {
				OPTION = c
				EVENT_ID = 2103
				WIN_EVENT_ID = 2104
				LOSE_EVENT_ID = 2105
				SCENARIO = hill
			}
		}

		ai_chance = {
			base = 1
		}
	}
}


#Investigation: You Win
agot_nw_ranger_events.2104 = {
	type = character_event
	window = scheme_successful_event
	title = agot_nw_ranger_events.2104.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2104.desc.a }
			triggered_desc = { desc = agot_nw_ranger_events.2104.desc.b }
			triggered_desc = { desc = agot_nw_ranger_events.2104.desc.c }
			triggered_desc = { desc = agot_nw_ranger_events.2104.desc.d }
			triggered_desc = { desc = agot_nw_ranger_events.2104.desc.e }
		}
		first_valid = {
			triggered_desc = { trigger = { exists = scope:artifact } desc = agot_nw_ranger_events.2104.desc.artifact }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = scope:my_ranger
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_1 } }
			animation = drink
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_2 } }
			animation = admiration
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_3 } }
			animation = ecstasy
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_4 } }
			animation = flirtation
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_5 } }
			animation = happiness
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_6 } }
			animation = interested
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_7 } }
			animation = laugh
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_8 } }
			animation = love
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_9 } }
			animation = schadenfreude
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_10 } }
			animation = toast
		}
	}
	artifact = {
		trigger = { exists = scope:artifact }
		target = scope:artifact
		position = lower_center_portrait
	}

	override_background = {
		trigger = { exists = scope:cave }
		reference = agot_icecave
	}
	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = success_standard }
		hidden_effect = { return_home = yes }
		save_scope_as = first_ranger
		set_anim_flags = yes
		if = {
			limit = { scope:task_contract.var:reward_path = scope:quest_path }
			random_list = {
				#Gold
				500 = {
					save_scope_value_as = {
						name = gold_reward
						value = {
							integer_range = {
								min = 50
								max = 150
							}
						}
					}
				}
				#Prestige
				500 = {
					save_scope_value_as = {
						name = prestige_reward
						value = {
							integer_range = {
								min = 100
								max = 300
							}
						}
					}
				}
				#Piety
				500 = {
					save_scope_value_as = {
						name = piety_reward
						value = {
							integer_range = {
								min = 100
								max = 300
							}
						}
					}
				}
				#Artifact
				50 = {
					hidden_effect = {
						random_list = {
							#Common
							1000 = {
								random_list = {
									#Sword
									1 = {
										create_artifact = {
											name = ranger_reward_sword
											description = ranger_reward_sword_desc
											type = sword
											visuals = sword
											modifier = artifact_prowess_2_modifier
											creator = root
											rarity = common
											save_scope_as = artifact
										}
									}
									#Spear
									1 = {
										create_artifact = {
											name = ranger_reward_spear
											description = ranger_reward_spear_desc
											type = spear
											visuals = spear
											modifier = artifact_prowess_2_modifier
											creator = root
											rarity = common
											save_scope_as = artifact
										}
									}
									#Axe
									1 = {
										create_artifact = {
											name = ranger_reward_axe
											description = ranger_reward_axe_desc
											type = axe
											visuals = axe
											modifier = artifact_prowess_2_modifier
											creator = root
											rarity = common
											save_scope_as = artifact
										}
									}
									#Bow
									1 = {
										create_artifact = {
											name = ranger_reward_bow
											description = ranger_reward_bow_desc
											type = bow
											visuals = bow
											modifier = artifact_prowess_2_modifier
											creator = root
											rarity = common
											save_scope_as = artifact
										}
									}
								}
							}
							#Masterwork
							500 = {
								random_list = {
									#Sword
									1 = {
										create_artifact = {
											name = ranger_reward_sword
											description = ranger_reward_sword_desc
											type = sword
											visuals = sword
											modifier = artifact_prowess_3_modifier
											modifier = artifact_knight_effectiveness_3_modifier
											modifier = artifact_monthly_minor_prestige_1_modifier
											creator = root
											rarity = masterwork
											save_scope_as = artifact
										}
									}
									#Spear
									1 = {
										create_artifact = {
											name = ranger_reward_spear
											description = ranger_reward_spear_desc
											type = spear
											visuals = spear
											modifier = artifact_prowess_3_modifier
											modifier = artifact_knight_effectiveness_3_modifier
											modifier = artifact_monthly_minor_prestige_1_modifier
											creator = root
											rarity = masterwork
											save_scope_as = artifact
										}
									}
									#Axe
									1 = {
										create_artifact = {
											name = ranger_reward_axe
											description = ranger_reward_axe_desc
											type = axe
											visuals = axe
											modifier = artifact_prowess_3_modifier
											modifier = artifact_knight_effectiveness_3_modifier
											modifier = artifact_monthly_minor_prestige_1_modifier
											creator = root
											rarity = masterwork
											save_scope_as = artifact
										}
									}
									#Bow
									1 = {
										create_artifact = {
											name = ranger_reward_bow
											description = ranger_reward_bow_desc
											type = bow
											visuals = bow
											modifier = artifact_prowess_3_modifier
											modifier = artifact_knight_effectiveness_3_modifier
											modifier = artifact_monthly_minor_prestige_1_modifier
											creator = root
											rarity = masterwork
											save_scope_as = artifact
										}
									}
								}
							}
							#Famed
							250 = {
								random_list = {
									#Sword
									1 = {
										create_artifact = {
											name = ranger_reward_sword
											description = ranger_reward_sword_desc
											type = sword
											visuals = sword
											modifier = artifact_prowess_4_modifier
											modifier = artifact_knight_effectiveness_8_modifier
											modifier = artifact_monthly_minor_prestige_2_modifier
											creator = root
											rarity = famed
											save_scope_as = artifact
										}
									}
									#Spear
									1 = {
										create_artifact = {
											name = ranger_reward_spear
											description = ranger_reward_spear_desc
											type = spear
											visuals = spear
											modifier = artifact_prowess_4_modifier
											modifier = artifact_knight_effectiveness_8_modifier
											modifier = artifact_monthly_minor_prestige_2_modifier
											creator = root
											rarity = famed
											save_scope_as = artifact
										}
									}
									#Axe
									1 = {
										create_artifact = {
											name = ranger_reward_axe
											description = ranger_reward_axe_desc
											type = axe
											visuals = axe
											modifier = artifact_prowess_4_modifier
											modifier = artifact_knight_effectiveness_8_modifier
											modifier = artifact_monthly_minor_prestige_2_modifier
											creator = root
											rarity = famed
											save_scope_as = artifact
										}
									}
									#Bow
									1 = {
										create_artifact = {
											name = ranger_reward_bow
											description = ranger_reward_bow_desc
											type = bow
											visuals = bow
											modifier = artifact_prowess_4_modifier
											modifier = artifact_knight_effectiveness_8_modifier
											modifier = artifact_monthly_minor_prestige_2_modifier
											creator = root
											rarity = famed
											save_scope_as = artifact
										}
									}
								}
							}
							#Illustrious
							1 = {
								random_list = {
									#Sword
									1 = {
										create_artifact = {
											name = ranger_reward_sword
											description = ranger_reward_sword_desc
											type = sword
											visuals = sword
											modifier = artifact_prowess_5_modifier
											modifier = artifact_knight_effectiveness_10_modifier
											modifier = artifact_monthly_minor_prestige_5_modifier
											modifier = artifact_dread_gain_mult_2_modifier
											creator = root
											rarity = illustrious
											save_scope_as = artifact
										}
									}
									#Spear
									1 = {
										create_artifact = {
											name = ranger_reward_spear
											description = ranger_reward_spear_desc
											type = spear
											visuals = spear
											modifier = artifact_prowess_5_modifier
											modifier = artifact_knight_effectiveness_10_modifier
											modifier = artifact_monthly_minor_prestige_5_modifier
											modifier = artifact_dread_gain_mult_2_modifier
											creator = root
											rarity = illustrious
											save_scope_as = artifact
										}
									}
									#Axe
									1 = {
										create_artifact = {
											name = ranger_reward_axe
											description = ranger_reward_axe_desc
											type = axe
											visuals = axe
											modifier = artifact_prowess_5_modifier
											modifier = artifact_knight_effectiveness_10_modifier
											modifier = artifact_monthly_minor_prestige_5_modifier
											modifier = artifact_dread_gain_mult_2_modifier
											creator = root
											rarity = illustrious
											save_scope_as = artifact
										}
									}
									#Bow
									1 = {
										create_artifact = {
											name = ranger_reward_bow
											description = ranger_reward_bow_desc
											type = bow
											visuals = bow
											modifier = artifact_prowess_5_modifier
											modifier = artifact_knight_effectiveness_10_modifier
											modifier = artifact_monthly_minor_prestige_5_modifier
											modifier = artifact_dread_gain_mult_2_modifier
											creator = root
											rarity = illustrious
											save_scope_as = artifact
										}
									}
								}
							}
						}
					}
				}
			}
		}
		else = {
			random_list = {
				1 = {
					save_scope_value_as = {
						name = gold_reward
						value = {
							integer_range = {
								min = 1
								max = 25
							}
						}
					}
				}
				1 = {
					save_scope_value_as = {
						name = prestige_reward
						value = {
							integer_range = {
								min = 1
								max = 50
							}
						}
					}
				}
				1 = {
					save_scope_value_as = {
						name = piety_reward
						value = {
							integer_range = {
								min = 1
								max = 50
							}
						}
					}
				}
			}
		}
	}

	option = {
		name = agot_nw_ranger_events.2104.a
		remove_anim_flags = yes
		if = {
			limit = { exists = scope:gold_reward }
			add_gold = scope:gold_reward
		}
		else_if = {
			limit = { exists = scope:prestige_reward }
			add_prestige = scope:prestige_reward
		}
		else_if = {
			limit = { exists = scope:piety_reward }
			add_piety = scope:piety_reward
		}
		else_if = {
			limit = { exists = scope:artifact }
			show_as_tooltip = {
				scope:artifact = {
					set_owner = root
				}
			}
		}
	}
}

#Investigation: You Lose
agot_nw_ranger_events.2105 = {
	type = character_event
	window = scheme_failed_event
	title = agot_nw_ranger_events.2105.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2105.desc.a }
			triggered_desc = { desc = agot_nw_ranger_events.2105.desc.b }
			triggered_desc = { desc = agot_nw_ranger_events.2105.desc.c }
			triggered_desc = { desc = agot_nw_ranger_events.2105.desc.d }
			triggered_desc = { desc = agot_nw_ranger_events.2105.desc.e }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = personality_bold
	}
	right_portrait = {
		character = scope:my_ranger
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_1 } }
			animation = eyeroll
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_2 } }
			animation = admiration
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_3 } }
			animation = anger
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_4 } }
			animation = crying
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_5 } }
			animation = delirium
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_6 } }
			animation = disappointed
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_7 } }
			animation = disapproval
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_8 } }
			animation = disgust
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_9 } }
			animation = dismissal
		}
		triggered_animation = {
			trigger = { scope:first_ranger = { has_character_flag = anim_b_10 } }
			animation = rage
		}
	}

	override_background = {
		trigger = { exists = scope:cave }
		reference = agot_icecave
	}
	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = failure_standard }
		hidden_effect = { return_home = yes }
		save_scope_as = first_ranger
		set_anim_flags = yes
		random_list = {
			1 = {
				save_scope_value_as = {
					name = prestige_reward
					value = {
						integer_range = {
							min = 1
							max = 50
						}
					}
				}
			}
			1 = {
				save_scope_value_as = {
					name = piety_reward
					value = {
						integer_range = {
							min = 1
							max = 50
						}
					}
				}
			}
		}
	}

	option = {
		name = agot_nw_ranger_events.2105.a
		remove_anim_flags = yes
		if = {
			limit = { exists = scope:prestige_reward }
			add_prestige = {
				value = scope:prestige_reward
				multiply = -1
			}
		}
		else_if = {
			limit = { exists = scope:piety_reward }
			add_piety = {
				value = scope:piety_reward
				multiply = -1
			}
		}
	}
}

##################################
### ranger_laamp_contract_2201 ###
##################################

#Assess Danger I
agot_nw_ranger_events.2201 = {
	type = character_event
	title = agot_nw_ranger_events.2201.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2201.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.2201.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.2201.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.2201.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.2201.desc.intro_e }
		}
		desc = agot_nw_ranger_events.2201.desc.outro
	}

	left_portrait = {
		character = root
		animation = thinking
	}
	lower_right_portrait = {
		character = scope:main_figure
		animation = personality_bold
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:employer.capital_county = {
			save_scope_as = destination_1
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}
		add_character_flag = {
			flag = assess_danger
			months = { 6 18 }
		}

		location = { save_scope_as = background_terrain_scope }

		scope:employer = { save_scope_as = main_figure }
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.2201.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.2201.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.2202
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.2201.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.2201.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.2202
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#Assess Danger II
agot_nw_ranger_events.2202 = {
	type = character_event
	title = agot_nw_ranger_events.2202.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.outro_a }
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.outro_b }
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.outro_c }
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.outro_d }
			triggered_desc = { desc = agot_nw_ranger_events.2202.desc.outro_e }
		}
	}

	left_portrait = {
		character = root
		animation = thinking
	}
	right_portrait = {
		character = scope:main_figure
		animation = scheme
	}
	lower_center_portrait = {
		character = title:k_the_wall.holder
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		root = { save_scope_as = first_ranger }
		scope:main_figure = {
			if = {
				limit = {
					any_held_title = {
						tier = tier_county
						any_neighboring_county = { holder = title:k_the_wall.holder }
					}
				}
				random_held_title = {
					limit = {
						tier = tier_county
						any_neighboring_county = { holder = title:k_the_wall.holder }
					}
					save_scope_as = ranging_target
				}
			}
		}
		agot_nw_ranger_clear_contract = yes
	}

	#Report the LC about the danger
	option = {
		name = agot_nw_ranger_events.2202.a

		title:k_the_wall.holder = {
			trigger_event = {
				id = agot_nw_ranger_events.2204
				days = 3
			}
		}
		scope:task_contract = { complete_task_contract = success_standard }
		hidden_effect = { return_home = yes }

		ai_chance = {
			base = 0

			modifier = {
				add = 50
				scope:main_figure = { agot_wildling_insane = yes }
			}

			modifier = {
				add = 100

				scope:main_figure = { NOT = { agot_wildling_insane = yes } }
				ai_honor < 0
			}
		}
	}

	##Report the LC it's fine
	option = {
		name = agot_nw_ranger_events.2202.b

		trigger_event = {
			id = agot_nw_ranger_events.2205
			days = 3
		}
		scope:task_contract = { complete_task_contract = success_standard }
		hidden_effect = { return_home = yes }

		ai_chance = {
			base = 0

			modifier = {
				add = 50
				scope:main_figure = { NOT = { agot_wildling_insane = yes } }
			}

			modifier = {
				add = 100

				scope:main_figure = { agot_wildling_insane = yes }
				ai_honor < 0
			}
		}
	}
}

#Assess Danger: LC - First Ranger reported about danger
agot_nw_ranger_events.2204 = {
	type = character_event

	title = agot_nw_ranger_events.2204.t
	desc = agot_nw_ranger_events.2204.desc

	theme = nightswatch

	left_portrait = {
		character = root
		animation = war_attacker
	}
	right_portrait = {
		character = scope:main_figure
		animation = war_defender
	}

	override_background = { reference = terrain_scope }

	option = {
		name = agot_nw_ranger_events.2204.a
		trigger = { exists = scope:ranging_target }

		start_war = {
			target = scope:main_figure
			casus_belli = nw_generic_ranging_cb
			target_title = scope:ranging_target
		}
		scope:first_ranger = { trigger_event = agot_nw_ranger_events.2206 }

		ai_chance = {
			base = 0

			modifier = {
				add = 50
				scope:main_figure = { agot_wildling_insane = yes }
			}

			modifier = {
				add = 100

				scope:main_figure = { NOT = { agot_wildling_insane = yes } }
				ai_honor < 0
			}
		}
	}

	option = {
		name = agot_nw_ranger_events.2204.b

		ai_chance = {
			base = 0

			modifier = {
				add = 50
				scope:main_figure = { NOT = { agot_wildling_insane = yes } }
			}

			modifier = {
				add = 100

				scope:main_figure = { agot_wildling_insane = yes }
				ai_honor < 0
			}
		}
	}
}

#Assess Danger: LC - First Ranger reported it's fine
agot_nw_ranger_events.2205 = {
	type = character_event

	title = agot_nw_ranger_events.2205.t
	desc = agot_nw_ranger_events.2205.desc

	theme = nightswatch

	left_portrait = {
		character = root
		animation = war_attacker
	}
	right_portrait = {
		character = scope:main_figure
		animation = war_defender
	}

	override_background = { reference = terrain_scope }

	option = {
		name = agot_nw_ranger_events.2205.a

		ai_chance = {
			base = 0

			modifier = {
				add = 50
				scope:main_figure = { NOT = { agot_wildling_insane = yes } }
			}

			modifier = {
				add = 100

				scope:main_figure = { agot_wildling_insane = yes }
				ai_honor < 0
			}
		}
	}

	option = {
		name = agot_nw_ranger_events.2205.b
		trigger = { exists = scope:ranging_target }

		start_war = {
			target = scope:main_figure
			casus_belli = nw_generic_ranging_cb
			target_title = scope:ranging_target
		}
		scope:first_ranger = { trigger_event = agot_nw_ranger_events.2206 }

		ai_chance = {
			base = 0

			modifier = {
				add = 50
				scope:main_figure = { agot_wildling_insane = yes }
			}

			modifier = {
				add = 100

				scope:main_figure = { NOT = { agot_wildling_insane = yes } }
				ai_honor < 0
			}
		}
	}
}

#Assess Danger: Add the First Ranger to the war
agot_nw_ranger_events.2206 = {
	hidden = yes

	trigger = {
		is_alive = yes
	}

	immediate = {
		title:k_the_wall.holder = {
			random_character_war = {
				limit = {
					using_cb = nw_generic_ranging_cb
					primary_attacker = title:k_the_wall.holder
					primary_defender = scope:main_figure
				}
				add_attacker = scope:first_ranger
			}
		}
	}
}

##################################
### ranger_laamp_contract_2301 ###
##################################

#Fallen Ranger I
agot_nw_ranger_events.2301 = {
	type = character_event
	title = agot_nw_ranger_events.2301.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2301.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.2301.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.2301.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.2301.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.2301.desc.intro_e }
		}
		desc = agot_nw_ranger_events.2301.desc.outro
	}

	left_portrait = {
		character = root
		animation = thinking
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	immediate = {
		scope:employer.capital_county = {
			save_scope_as = destination_1
		}

		#Save the Scout
		random_councillor = {
			limit = {
				has_council_position = councillor_ranger_1
				is_ai = yes
				is_alive = yes
			}
			save_scope_as = my_ranger
		}

		location = { save_scope_as = background_terrain_scope }
		scope:employer = { save_scope_as = main_figure }
		add_character_flag = {
			flag = investigation_mission
			months = { 6 36 }
		}
	}

	#Travel without domicile
	option = {
		name = agot_nw_ranger_events.2301.a

		custom_tooltip = travel.stationary_domicile.tt
		custom_tooltip = agot_nw_ranger_events.2301.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.2302
			travel_with_domicile = no
			return_trip = yes
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all_but_last
		}

		ai_chance = { base = 1000 }
	}

	#Travel with domicile
	option = {
		name = agot_nw_ranger_events.2301.b

		custom_tooltip = travel.mobile_domicile.tt
		custom_tooltip = agot_nw_ranger_events.2301.tt.destination

		start_travel_plan = {
			destination = scope:destination_1.title_province
			on_arrival_event = agot_nw_ranger_events.2302
			travel_with_domicile = yes
			return_trip = no
			on_travel_planner_cancel_event = agot_nw_ranger_events.9999
			players_use_planner = no
			on_arrival_destinations = all
		}

		ai_chance = { base = 0 }
	}
}

#Fallen Ranger II
agot_nw_ranger_events.2302 = {
	type = character_event
	title = agot_nw_ranger_events.2302.t
	desc = {
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.intro_a }
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.intro_b }
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.intro_c }
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.intro_d }
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.intro_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.mid_a }
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.mid_b }
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.mid_c }
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.mid_d }
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.mid_e }
		}
		random_valid = {
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.outro_a }
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.outro_b }
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.outro_c }
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.outro_d }
			triggered_desc = { desc = agot_nw_ranger_events.2302.desc.outro_e }
		}
	}

	right_portrait = {
		character = root
		animation = inspect_weapon
	}

	theme = nightswatch
	override_background = { reference = terrain_scope }
	override_header_background = { reference = "gfx/interface/window_event/event_header_purple.dds"	}

	#Learning: challenge
	option = {
		name = agot_nw_ranger_events.2302.a

		skill = learning

		save_scope_value_as = {
			name = method
			value = flag:learning
		}
		save_scope_value_as = {
			name = method_option
			value = flag:one
		}
		agot_nw_contract_challenge = {
			SKILL = learning
			OPTION = a
			EVENT_ID = 2302
			WIN_EVENT_ID = 2304
			LOSE_EVENT_ID = 2305
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = learning
					subtract = scope:main_figure.learning
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Intrigue: challenge
	option = {
		name = agot_nw_ranger_events.2302.b

		skill = intrigue

		save_scope_value_as = {
			name = method
			value = flag:intrigue
		}
		save_scope_value_as = {
			name = method_option
			value = flag:two
		}
		agot_nw_contract_challenge = {
			SKILL = intrigue
			OPTION = b
			EVENT_ID = 2302
			WIN_EVENT_ID = 2304
			LOSE_EVENT_ID = 2305
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = intrigue
					subtract = scope:main_figure.intrigue
					multiply = 5
				}
				always = yes
			}
		}
	}

	#Stewardship: challenge
	option = {
		name = agot_nw_ranger_events.2302.c

		skill = stewardship

		save_scope_value_as = {
			name = method
			value = flag:stewardship
		}
		save_scope_value_as = {
			name = method_option
			value = flag:three
		}
		agot_nw_contract_challenge = {
			SKILL = stewardship
			OPTION = c
			EVENT_ID = 2302
			WIN_EVENT_ID = 2304
			LOSE_EVENT_ID = 2305
			TARGET_CHAR = main_figure
		}

		ai_chance = {
			base = 1
			modifier = {
				add = {
					value = stewardship
					subtract = scope:main_figure.stewardship
					multiply = 5
				}
				always = yes
			}
		}
	}
}

#Fallen Ranger: You Win
agot_nw_ranger_events.2304 = {
	type = character_event
	window = scheme_successful_event
	title = agot_nw_ranger_events.2304.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.2304.desc.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.2304.desc.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.2304.desc.c }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = personality_bold
	}

	override_background = { reference = terrain_scope }

	option = {
		name = agot_nw_ranger_events.2304.a

		scope:task_contract = { complete_task_contract = success_standard }
		hidden_effect = { return_home = yes }

		ai_chance = {
			base = 25
		}
	}

	option = {
		name = agot_nw_ranger_events.2304.b

		trigger_event = {
			id = agot_nw_ranger_events.2306
			days = 1
		}

		ai_chance = {
			base = 0

			ai_value_modifier = {
				ai_boldness = 0.5
				ai_energy = 0.5
			}
		}
	}
}

#Fallen Ranger: You Lose
agot_nw_ranger_events.2305 = {
	type = character_event
	window = scheme_failed_event
	title = agot_nw_ranger_events.2305.t
	desc = {
		random_valid = {
			triggered_desc = { trigger = { scope:method_option = flag:one } desc = agot_nw_ranger_events.2305.desc.a }
			triggered_desc = { trigger = { scope:method_option = flag:two } desc = agot_nw_ranger_events.2305.desc.b }
			triggered_desc = { trigger = { scope:method_option = flag:three } desc = agot_nw_ranger_events.2305.desc.c }
		}
	}

	theme = nightswatch

	center_portrait = {
		character = root
		animation = shame
		camera = shop_camera_main_closeup_angle_15
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = failure_standard }
		hidden_effect = { return_home = yes }
	}

	option = {
		name = agot_nw_ranger_events.2305.a
	}
}

#Fallen Ranger: Further Investigation
agot_nw_ranger_events.2306 = {
	type = character_event
	title = agot_nw_ranger_events.2306.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_character_flag = artifact_2301 }
				desc = agot_nw_ranger_events.2306.artifact.desc
			}
			triggered_desc = {
				trigger = { has_character_flag = gold_2301 }
				desc = agot_nw_ranger_events.2306.gold.desc
			}
			triggered_desc = {
				trigger = { has_character_flag = food_2301 }
				desc = agot_nw_ranger_events.2306.food.desc
			}
			triggered_desc = {
				trigger = { has_character_flag = nothing_2301 }
				desc = agot_nw_ranger_events.2306.nothing.desc
			}
		}
	}

	theme = nightswatch

	right_portrait = {
		character = root
		animation = thinking
	}

	artifact = {
		trigger = { exists = scope:artifact }
		target = scope:artifact
		position = lower_center_portrait
	}

	override_background = { reference = terrain_scope }

	immediate = {
		scope:task_contract = { complete_task_contract = success_standard }
		hidden_effect = { return_home = yes }

		random_list = {
			#You won nothing
			50 = {
				add_character_flag = {
					flag = nothing_2301
					days = 40
				}
			}
			#You won something
			50 = {
				random_list = {
					#Gold
					45 = {
						add_character_flag = {
							flag = gold_2301
							days = 40
						}
						save_scope_value_as = {
							name = gold_reward
							value = {
								integer_range = {
									min = 25
									max = 75
								}
							}
						}
					}
					#Food
					45 = {
						add_character_flag = {
							flag = food_2301
							days = 40
						}
						save_scope_value_as = {
							name = food_reward
							value = {
								integer_range = {
									min = 50
									max = 1000
								}
							}
						}
					}
					#Artifact
					10 = {
						random_list = {
							1000 = {
								hidden_effect = {
									random_list = {
										#Common
										1000 = {
											random_list = {
												#Sword
												1 = {
													create_artifact = {
														name = ranger_reward_sword
														description = ranger_reward_sword_desc
														type = sword
														visuals = sword
														modifier = artifact_prowess_2_modifier
														creator = root
														rarity = common
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
												#Spear
												1 = {
													create_artifact = {
														name = ranger_reward_spear
														description = ranger_reward_spear_desc
														type = spear
														visuals = spear
														modifier = artifact_prowess_2_modifier
														creator = root
														rarity = common
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
												#Axe
												1 = {
													create_artifact = {
														name = ranger_reward_axe
														description = ranger_reward_axe_desc
														type = axe
														visuals = axe
														modifier = artifact_prowess_2_modifier
														creator = root
														rarity = common
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
												#Bow
												1 = {
													create_artifact = {
														name = ranger_reward_bow
														description = ranger_reward_bow_desc
														type = bow
														visuals = bow
														modifier = artifact_prowess_2_modifier
														creator = root
														rarity = common
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
											}
										}
										#Masterwork
										500 = {
											random_list = {
												#Sword
												1 = {
													create_artifact = {
														name = ranger_reward_sword
														description = ranger_reward_sword_desc
														type = sword
														visuals = sword
														modifier = artifact_prowess_3_modifier
														modifier = artifact_knight_effectiveness_3_modifier
														modifier = artifact_monthly_minor_prestige_1_modifier
														creator = root
														rarity = masterwork
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
												#Spear
												1 = {
													create_artifact = {
														name = ranger_reward_spear
														description = ranger_reward_spear_desc
														type = spear
														visuals = spear
														modifier = artifact_prowess_3_modifier
														modifier = artifact_knight_effectiveness_3_modifier
														modifier = artifact_monthly_minor_prestige_1_modifier
														creator = root
														rarity = masterwork
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
												#Axe
												1 = {
													create_artifact = {
														name = ranger_reward_axe
														description = ranger_reward_axe_desc
														type = axe
														visuals = axe
														modifier = artifact_prowess_3_modifier
														modifier = artifact_knight_effectiveness_3_modifier
														modifier = artifact_monthly_minor_prestige_1_modifier
														creator = root
														rarity = masterwork
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
												#Bow
												1 = {
													create_artifact = {
														name = ranger_reward_bow
														description = ranger_reward_bow_desc
														type = bow
														visuals = bow
														modifier = artifact_prowess_3_modifier
														modifier = artifact_knight_effectiveness_3_modifier
														modifier = artifact_monthly_minor_prestige_1_modifier
														creator = root
														rarity = masterwork
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
											}
										}
										#Famed
										250 = {
											random_list = {
												#Sword
												1 = {
													create_artifact = {
														name = ranger_reward_sword
														description = ranger_reward_sword_desc
														type = sword
														visuals = sword
														modifier = artifact_prowess_4_modifier
														modifier = artifact_knight_effectiveness_8_modifier
														modifier = artifact_monthly_minor_prestige_2_modifier
														creator = root
														rarity = famed
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
												#Spear
												1 = {
													create_artifact = {
														name = ranger_reward_spear
														description = ranger_reward_spear_desc
														type = spear
														visuals = spear
														modifier = artifact_prowess_4_modifier
														modifier = artifact_knight_effectiveness_8_modifier
														modifier = artifact_monthly_minor_prestige_2_modifier
														creator = root
														rarity = famed
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
												#Axe
												1 = {
													create_artifact = {
														name = ranger_reward_axe
														description = ranger_reward_axe_desc
														type = axe
														visuals = axe
														modifier = artifact_prowess_4_modifier
														modifier = artifact_knight_effectiveness_8_modifier
														modifier = artifact_monthly_minor_prestige_2_modifier
														creator = root
														rarity = famed
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
												#Bow
												1 = {
													create_artifact = {
														name = ranger_reward_bow
														description = ranger_reward_bow_desc
														type = bow
														visuals = bow
														modifier = artifact_prowess_4_modifier
														modifier = artifact_knight_effectiveness_8_modifier
														modifier = artifact_monthly_minor_prestige_2_modifier
														creator = root
														rarity = famed
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
											}
										}
										#Illustrious
										1 = {
											random_list = {
												#Sword
												1 = {
													create_artifact = {
														name = ranger_reward_sword
														description = ranger_reward_sword_desc
														type = sword
														visuals = sword
														modifier = artifact_prowess_5_modifier
														modifier = artifact_knight_effectiveness_10_modifier
														modifier = artifact_monthly_minor_prestige_5_modifier
														modifier = artifact_dread_gain_mult_2_modifier
														creator = root
														rarity = illustrious
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
												#Spear
												1 = {
													create_artifact = {
														name = ranger_reward_spear
														description = ranger_reward_spear_desc
														type = spear
														visuals = spear
														modifier = artifact_prowess_5_modifier
														modifier = artifact_knight_effectiveness_10_modifier
														modifier = artifact_monthly_minor_prestige_5_modifier
														modifier = artifact_dread_gain_mult_2_modifier
														creator = root
														rarity = illustrious
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
												#Axe
												1 = {
													create_artifact = {
														name = ranger_reward_axe
														description = ranger_reward_axe_desc
														type = axe
														visuals = axe
														modifier = artifact_prowess_5_modifier
														modifier = artifact_knight_effectiveness_10_modifier
														modifier = artifact_monthly_minor_prestige_5_modifier
														modifier = artifact_dread_gain_mult_2_modifier
														creator = root
														rarity = illustrious
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
												#Bow
												1 = {
													create_artifact = {
														name = ranger_reward_bow
														description = ranger_reward_bow_desc
														type = bow
														visuals = bow
														modifier = artifact_prowess_5_modifier
														modifier = artifact_knight_effectiveness_10_modifier
														modifier = artifact_monthly_minor_prestige_5_modifier
														modifier = artifact_dread_gain_mult_2_modifier
														creator = root
														rarity = illustrious
														save_scope_as = artifact
													}
													add_character_flag = {
														flag = artifact_2301
														days = 40
													}
												}
											}
										}
									}
								}
							}
							#Dark Sister
							1 = {
								trigger = {
									current_date >= 8253.1.1
									character:Targaryen_96 = { NOT = { is_alive = yes } }
									any_artifact = { NOT = { has_artifact_modifier = vs_dark_sister_modifier } }
									NOT = { has_game_rule = agot_story_historical_events_historical_outcomes }
								}
								modifier = {
									add = {
										value = 0
										if = {
											limit = { real_paternal_held_iron_throne_claim = yes }
											add = 9
										}
									}
								}

								add_character_flag = darksis
								add_character_flag = {
									flag = nothing_2301
									days = 40
								}
							}
						}
					}
				}
			}
		}
	}

	option = {
		name = agot_nw_ranger_events.2306.a

		if = {
			limit = { exists = scope:gold_reward }
			add_gold = scope:gold_reward
		}
		else_if = {
			limit = { exists = scope:prestige_reward }
			add_prestige = scope:prestige_reward
		}
		else_if = {
			limit = { exists = scope:food_reward }
			domicile = {
				change_provisions = scope:food_reward
			}
		}
		else_if = {
			limit = { exists = scope:artifact }
			show_as_tooltip = {
				scope:artifact = {
					set_owner = root
				}
			}
		}
		else_if = {
			limit = { has_character_flag = darksis }
			trigger_event = {
				id = agot_nw_ranger_events.0004
				days = { 3 5 }
			}
			remove_character_flag = darksis
		}
	}
}

#################################
###### CONTRACT END EVENTS ######
#################################

#Invalid Contract
agot_nw_ranger_events.9999 = {
	hidden = yes

	trigger = {
		is_alive = yes
		exists = var:my_ranger_contract
	}

	immediate = {
		if = {
			limit = { exists = var:my_ranger_contract }
			send_interface_message = {
				title = contract_invalidated_title
				type = martial_contract_scheme_invalidated_message
				right_icon = var:my_ranger_contract.task_contract_employer
				var:my_ranger_contract = { complete_task_contract = failure_standard }
			}
		}

		agot_nw_ranger_clear_contract = yes
	}
}