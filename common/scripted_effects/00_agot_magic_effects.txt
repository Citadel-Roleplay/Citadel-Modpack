agot_dragon_birth_magic_effect = {
	if = {
		limit = {
			any_living_dragon = {
				count = 1
			}
		}
		set_global_variable = {
			name = magic_level
			value = 1
		}

		agot_update_glass_candles_effect = yes
		agot_dragon_revival_effect = yes
	}
	else_if = {
		limit = {
			any_living_dragon = {
				count = 10
			}
			NOT = { global_var:magic_level = 2 }
		}
		set_global_variable = {
			name = magic_level
			value = 2
		}
		agot_update_glass_candles_effect = yes
	}
}

agot_dragon_death_magic_effect = {
	if = {
		limit = { # I don't know if the dragon is still counted as alive, but it looks like it
			any_living_dragon = {
				NOT = { this = root }
				count = 0
			}
		}
		set_global_variable = {
			name = magic_level
			value = 0
		}
		agot_update_glass_candles_effect = yes
		agot_dragon_extinction_effect = yes
	}
	else_if = {
		limit = {
			any_living_dragon = {
				NOT = { this = root }
				count < 9
			}
			NOT = { global_var:magic_level = 1 }
		}
		set_global_variable = {
			name = magic_level
			value = 1
		}
		agot_update_glass_candles_effect = yes
	}
	else_if = {
		limit = {
			NOT = { global_var:magic_level = 2 }
		}
		set_global_variable = {
			name = magic_level
			value = 2
		}
		agot_update_glass_candles_effect = yes
	}
}