### Choose stance values - used in 00_agot_scripted_modifiers_mega_wars.txt
# Most values are set in event agot_mega_wars.0003
agot_mw_crown_dread = {
	scope:mw_crown = {
		add = {
			add = dread
			multiply = 0.5
		}
	}
}

agot_mw_loyality_value = {
	value = 50

	if = {
		limit = {
			has_trait = deceitful
		}
		add = -50
	}
	if = {
		limit = {
			has_trait = arbitrary
		}
		add = -25
	}
	if = {
		limit = {
			has_trait = just
		}
		add = 50
	}
	if = {
		limit = {
			has_trait = honest
		}
		add = 50
	}
	if = {
		limit = {
			has_trait = trusting
		}
		add = 25
	}
	if = {
		limit = {
			has_trait = stubborn
		}
		add = 25
	}
}


mw_liege_is_main_actor_value = 200
mw_follow_lieges_choice_value = 135 # Badger: 150
mw_lieges_liege_choice_value = 100
mw_follow_lieges_choice_county_bonus_factor = 16
mw_has_alliance_with_side = 200 # Badger: 200
mw_ally_has_alliance_with_side = 50
mw_dont_betray_alliance_factor = 0
mw_close_family_marriage_value = 60
mw_close_family_value = 150
mw_same_dynasty_value = 75
mw_special_relation_blocker_factor = 0.01
mw_opinion_value_factor = 0.3
mw_TARGET_is_soldier_friend = 50
mw_TARGET_is_friend = 100
mw_TARGET_is_best_friend = 500
mw_TARGET_is_lover = 100
mw_TARGET_is_soulmate = 500
mw_TARGET_is_rival = -100
mw_TARGET_is_nemesis = -90
mw_historical_loyality_value = 1000
mw_diarch_target_is_imprisoned_value = 100
mw_liberator_crown_value = 150
mw_liberator_neutral_value = 150
mw_liberator_rebel_value = -300
mw_loyalist_stance_bonus_value = 0
mw_protect_demesne_target_titles_value = 0
mw_stay_loyalist_value = 0
mw_liege_is_rebel_leader_correction_value = 0
mw_family_member_is_crown_value = 100
mw_neutral_stance_bonus_value = 20
mw_join_side_reluctance_value = 30
mw_torn_between_both_sides_value = 100
mw_has_alliance_stay_neutral_blocker_factor = 0
mw_independence_war_reluctance = -100
mw_is_faction_member_value = 200
mw_tyranny_level_value = 50
mw_seek_independence_reluctance_value = -50
mw_liege_is_indepen_leader_value = 500
mw_seeks_independence_value = 10
mw_loyalist_faction_value = 5000
mw_war_of_succession_legit_value = 75
mw_war_of_succession_usurper_value = -75
mw_war_of_succession_honorable_value = 5000



mw_penal_coins_value = {
	value = 0

	if = {
		limit = { var:mw_punishment_mode = flag:soft }
		add = 50
	}
	else_if = {
		limit = { var:mw_punishment_mode = flag:medium }
		add = 100
	}
	else_if = {
		limit = { var:mw_punishment_mode = flag:hard }
		add = 150
	}
	else_if = {
		limit = { var:mw_punishment_mode = flag:very_hard }
		add = 200
	}
}

# AI punishment acceptance values
agot_mw_acceptance_base = 50

agot_mw_accept_indic_humble = 10
agot_mw_accept_indic_just = 10
agot_mw_accept_indic_craven = 5
agot_mw_accept_indic_trusting = 5
agot_mw_accept_indic_vengeful = -10
agot_mw_accept_indic_stubborn = -10
agot_mw_accept_indic_arrogant = -7
agot_mw_accept_indic_ambitious = -6

agot_mw_accept_indic_sent_to_wall = -15

agot_mw_accept_indic_execution = -65

agot_mw_accept_indic_expel = -20

agot_mw_accept_indic_take_main_titles = -10
agot_mw_accept_indic_take_entire_demesne = -40
agot_mw_accept_indic_take_entire_demesne_except_capital = -20
agot_mw_accept_indic_take_half_demesne = -10
agot_mw_accept_indic_take_artifact = -5

agot_mw_acceptance_indicator_script_value = {
	value = agot_mw_acceptance_base

	root.var:selected_traitor ?= {
		if = { # if there is no punishment AI always accepts
			limit = {
				NOT = { agot_mw_has_any_punishment_variable_trigger = yes }
			}
			add = 500
		}

		if = {
			limit = {
				has_trait = humble
			}
			add = agot_mw_accept_indic_humble
		}
		if = {
			limit = {
				has_trait = just
			}
			add = agot_mw_accept_indic_just
		}
		if = {
			limit = {
				has_trait = craven
			}
			add = agot_mw_accept_indic_craven
		}
		if = {
			limit = {
				has_trait = trusting
			}
			add = agot_mw_accept_indic_trusting
		}

		if = {
			limit = {
				has_trait = vengeful
			}
			add = agot_mw_accept_indic_vengeful
		}
		if = {
			limit = {
				has_trait = stubborn
			}
			add = agot_mw_accept_indic_stubborn
		}
		if = {
			limit = {
				has_trait = arrogant
			}
			add = agot_mw_accept_indic_arrogant
		}
		if = {
			limit = {
				has_trait = ambitious
			}
			add = agot_mw_accept_indic_ambitious
		}

		if = {
			limit = {
				has_variable = sent_to_wall
			}
			add = agot_mw_accept_indic_sent_to_wall
		}

		if = {
			limit = {
				has_variable = execution_traitor
			}
			add = agot_mw_accept_indic_execution
		}
		if = {
			limit = {
				has_variable = execution_family
			}
			add = { # base value is -50
				value = -50
				if = { # add 30
					limit = {
						OR = {
							has_trait = callous
							has_trait = sadistic
						}
					}
					add = 30
				}
				if = { # add -30
					limit = { has_trait = compassionate }
					add = -30
				}
			}
		}
		if = {
			limit = {
				has_variable = execution_house
			}
			add = { # base value is -60
				value = -60
				if = { # add 40
					limit = {
						OR = {
							has_trait = callous
							has_trait = sadistic
						}
					}
					add = 40
				}
				if = { # add -20
					limit = { has_trait = compassionate }
					add = -20
				}
			}
		}

		if = {
			limit = {
				has_variable = expel_traitor
			}
			add = agot_mw_accept_indic_expel
		}
		if = {
			limit = {
				has_variable = expel_family
			}
			add = { # base value is -30
				if = { # add 10
					limit = {
						OR = {
							has_trait = callous
							has_trait = sadistic
						}
					}
					add = -20
				}
				if = { # add -20
					limit = { has_trait = compassionate }
					add = -50
				}
			}
		}
		if = {
			limit = {
				has_variable = expel_house
			}
			add = { # base value is -40
				if = { # add 20
					limit = {
						OR = {
							has_trait = callous
							has_trait = sadistic
						}
					}
					add = -20
				}
				if = { # add -10
					limit = { has_trait = compassionate }
					add = -40
				}
			}
		}

		if = {
			limit = {
				has_variable = take_main_titles
			}
			add = agot_mw_accept_indic_take_main_titles
		}
		if = {
			limit = {
				has_variable = take_entire_demesne
			}
			add = agot_mw_accept_indic_take_entire_demesne
		}
		if = {
			limit = {
				has_variable = take_entire_demesne_except_capital
			}
			add = agot_mw_accept_indic_take_entire_demesne_except_capital
		}
		if = {
			limit = {
				has_variable = take_half_demesne
				NOT = { has_variable = take_entire_demesne_except_capital }
			}
			add = agot_mw_accept_indic_take_half_demesne
		}

		if = {
			limit = {
				has_variable = take_artifact
			}
			add = agot_mw_accept_indic_take_artifact
		}

		if = {
			limit = {
				has_relation_rival = var:crown_target
			}
			add = -15
		}
		if = {
			limit = {
				has_relation_nemesis = var:crown_target
			}
			add = -20
		}
	}
}

# Other
agot_mw_half_demesne_size = {
	value = 0

	root.var:selected_traitor = {
		if = {
			limit = { always = yes }
			add = domain_size
		}
		if = {
			limit = { always = yes }
			divide = 2
		}
	}
}

agot_mw_get_attacker_war_score_value = {
	add = scope:mw_war_scope.attacker_war_score
}

agot_mw_get_defender_war_score_value = {
	add = scope:mw_war_scope.defender_war_score
}