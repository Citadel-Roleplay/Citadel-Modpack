agot_become_legitimate_house_decision_generic = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	desc = agot_become_legitimate_house_decision_desc_generic

	is_shown = {
		is_ruler = yes
		is_landed = yes
		any_held_title = {
			NOR = {
				this = title:e_the_iron_throne
				this = title:e_the_north
				this = title:e_the_vale
				this = title:e_the_riverlands
				this = title:e_the_iron_islands
				this = title:e_the_westerlands
				this = title:e_the_reach
				this = title:e_the_stormlands
				this = title:e_dorne
				this = title:k_the_crownlands
				this = title:k_the_westerlands
				this = title:k_the_reach
				this = title:k_the_north
				this = title:k_the_vale
				this = title:k_the_riverlands
				this = title:k_the_iron_islands
				this = title:k_the_stormlands
				this = title:k_dorne
				this = title:k_dragonstone
			}
			title_uses_legitimate_house_mechanic = yes
			title_is_not_held_by_legitimate_house = yes
		}
	}

	is_valid = {
		any_held_title = {
			custom_tooltip = {
				text = "agot_become_legitimate_house_decision_has_doesnt_have_own_decision_trigger"
				NOR = {
					this = title:e_the_iron_throne
					this = title:e_the_north
					this = title:e_the_vale
					this = title:e_the_riverlands
					this = title:e_the_iron_islands
					this = title:e_the_westerlands
					this = title:e_the_reach
					this = title:e_the_stormlands
					this = title:e_dorne
					this = title:k_the_crownlands
					this = title:k_the_westerlands
					this = title:k_the_reach
					this = title:k_the_north
					this = title:k_the_vale
					this = title:k_the_riverlands
					this = title:k_the_iron_islands
					this = title:k_the_stormlands
					this = title:k_dorne
					this = title:k_dragonstone
				}
			}
			title_current_holder_can_become_legitimate = yes
		}
	}

	ai_check_interval = 6

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

	effect = {
		save_scope_as = new_legitimate_holder
		house = {
			save_scope_as = new_legitimate_house
		}
		every_held_title = {
			limit = {
				NOR = {
					this = title:e_the_iron_throne
					this = title:e_the_north
					this = title:e_the_vale
					this = title:e_the_riverlands
					this = title:e_the_iron_islands
					this = title:e_the_westerlands
					this = title:e_the_reach
					this = title:e_the_stormlands
					this = title:e_dorne
					this = title:k_the_crownlands
					this = title:k_the_westerlands
					this = title:k_the_reach
					this = title:k_the_north
					this = title:k_the_vale
					this = title:k_the_riverlands
					this = title:k_the_iron_islands
					this = title:k_the_stormlands
					this = title:k_dorne
					this = title:k_dragonstone
				}
				title_current_holder_can_become_legitimate = yes
			}
			save_scope_as = changed_legitimate_title
			var:legitimate_house = { save_scope_as = old_legitimate_house }
		}
		custom_tooltip = {
			text = agot_become_legitimate_house_decision_generic_effect
			agot_set_legitimate_house = {
				TITLE = scope:changed_legitimate_title
				HOUSE = scope:new_legitimate_house
			}
		}
		add_prestige = medium_prestige_value
		add_legitimacy_effect = { LEGITIMACY = medium_legitimacy_gain }
		dynasty = { add_dynasty_prestige = medium_prestige_value }
		# Send notification event
		every_player = {
			trigger_event = agot_legitimate_house.0001
		}
	}
}

# Specific titles
# The North
agot_become_legitimate_house_decision_north = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	desc = agot_become_legitimate_house_decision_desc_north

	is_shown = {
		is_ruler = yes
		is_landed = yes
		any_held_title = {
			OR = {
				this = title:e_the_north
				this = title:k_the_north
			}
			title_uses_legitimate_house_mechanic = yes
			title_is_not_held_by_legitimate_house = yes
		}
	}

	is_valid = {
		OR = {
			title:e_the_north = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
			title:k_the_north = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
		}
	}

	ai_check_interval = 6

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

	effect = {
		save_scope_as = new_legitimate_holder
		house = {
			save_scope_as = new_legitimate_house
		}
		if = {
			limit = {
				has_title = title:e_the_north
			}
			title:e_the_north = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:e_the_north
				HOUSE = scope:new_legitimate_house
			}
		}
		else_if = {
			limit = {
				has_title = title:k_the_north
			}
			title:k_the_north = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:k_the_north
				HOUSE = scope:new_legitimate_house
			}
		}
		add_prestige = medium_prestige_value
		add_legitimacy_effect = { LEGITIMACY = medium_legitimacy_gain }
		dynasty = { add_dynasty_prestige = medium_prestige_value }
		# Send notification event
		every_player = {
			trigger_event = agot_legitimate_house.0001
		}
	}
}
# The Vale
agot_become_legitimate_house_decision_vale = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	desc = agot_become_legitimate_house_decision_desc_vale

	is_shown = {
		is_ruler = yes
		is_landed = yes
		any_held_title = {
			OR = {
				this = title:e_the_vale
				this = title:k_the_vale
			}
			title_uses_legitimate_house_mechanic = yes
			title_is_not_held_by_legitimate_house = yes
		}
	}

	is_valid = {
		OR = {
			title:e_the_vale = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
			title:k_the_vale = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
		}
	}

	ai_check_interval = 6

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

	effect = {
		save_scope_as = new_legitimate_holder
		house = {
			save_scope_as = new_legitimate_house
		}
		if = {
			limit = {
				has_title = title:e_the_vale
			}
			title:e_the_vale = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:e_the_vale
				HOUSE = scope:new_legitimate_house
			}
		}
		else_if = {
			limit = {
				has_title = title:k_the_vale
			}
			title:k_the_vale = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:k_the_vale
				HOUSE = scope:new_legitimate_house
			}
		}
		add_prestige = medium_prestige_value
		add_legitimacy_effect = { LEGITIMACY = medium_legitimacy_gain }
		dynasty = { add_dynasty_prestige = medium_prestige_value }
		# Send notification event
		every_player = {
			trigger_event = agot_legitimate_house.0001
		}
	}
}
# The Riverlands
agot_become_legitimate_house_decision_riverlands = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	desc = agot_become_legitimate_house_decision_desc_riverlands

	is_shown = {
		is_ruler = yes
		is_landed = yes
		any_held_title = {
			OR = {
				this = title:e_the_riverlands
				this = title:k_the_riverlands
			}
			title_uses_legitimate_house_mechanic = yes
			title_is_not_held_by_legitimate_house = yes
		}
	}

	is_valid = {
		OR = {
			title:e_the_riverlands = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
			title:k_the_riverlands = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
		}
	}

	ai_check_interval = 6

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

	effect = {
		save_scope_as = new_legitimate_holder
		house = {
			save_scope_as = new_legitimate_house
		}
		if = {
			limit = {
				has_title = title:e_the_riverlands
			}
			title:e_the_riverlands = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:e_the_riverlands
				HOUSE = scope:new_legitimate_house
			}
		}
		else_if = {
			limit = {
				has_title = title:k_the_riverlands
			}
			title:k_the_riverlands = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:k_the_riverlands
				HOUSE = scope:new_legitimate_house
			}
		}
		add_prestige = medium_prestige_value
		add_legitimacy_effect = { LEGITIMACY = medium_legitimacy_gain }
		dynasty = { add_dynasty_prestige = medium_prestige_value }
		# Send notification event
		every_player = {
			trigger_event = agot_legitimate_house.0001
		}
	}
}
# Westerlands
agot_become_legitimate_house_decision_westerlands = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	desc = agot_become_legitimate_house_decision_desc_westerlands

	is_shown = {
		is_ruler = yes
		is_landed = yes
		any_held_title = {
			OR = {
				this = title:e_the_westerlands
				this = title:k_the_westerlands
			}
			title_uses_legitimate_house_mechanic = yes
			title_is_not_held_by_legitimate_house = yes
		}
	}

	is_valid = {
		OR = {
			title:e_the_westerlands = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
			title:k_the_westerlands = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
		}
	}

	ai_check_interval = 6

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

	effect = {
		save_scope_as = new_legitimate_holder
		house = {
			save_scope_as = new_legitimate_house
		}
		if = {
			limit = {
				has_title = title:e_the_westerlands
			}
			title:e_the_westerlands = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:e_the_westerlands
				HOUSE = scope:new_legitimate_house
			}
		}
		else_if = {
			limit = {
				has_title = title:k_the_westerlands
			}
			title:k_the_westerlands = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:k_the_westerlands
				HOUSE = scope:new_legitimate_house
			}
		}
		add_prestige = medium_prestige_value
		add_legitimacy_effect = { LEGITIMACY = medium_legitimacy_gain }
		dynasty = { add_dynasty_prestige = medium_prestige_value }
		# Send notification event
		every_player = {
			trigger_event = agot_legitimate_house.0001
		}
	}
}
# Iron Islands
agot_become_legitimate_house_decision_iron_islands = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	desc = agot_become_legitimate_house_decision_desc_iron_islands

	is_shown = {
		is_ruler = yes
		is_landed = yes
		any_held_title = {
			OR = {
				this = title:e_the_iron_islands
				this = title:k_the_iron_islands
			}
			title_uses_legitimate_house_mechanic = yes
			title_is_not_held_by_legitimate_house = yes
		}
	}

	is_valid = {
		OR = {
			title:e_the_iron_islands = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
			title:k_the_iron_islands = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
		}
	}

	ai_check_interval = 6

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

	effect = {
		save_scope_as = new_legitimate_holder
		house = {
			save_scope_as = new_legitimate_house
		}
		if = {
			limit = {
				has_title = title:e_the_iron_islands
			}
			title:e_the_iron_islands = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:e_the_iron_islands
				HOUSE = scope:new_legitimate_house
			}
		}
		else_if = {
			limit = {
				has_title = title:k_the_iron_islands
			}
			title:k_the_iron_islands = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:k_the_iron_islands
				HOUSE = scope:new_legitimate_house
			}
		}
		add_prestige = medium_prestige_value
		add_legitimacy_effect = { LEGITIMACY = medium_legitimacy_gain }
		dynasty = { add_dynasty_prestige = medium_prestige_value }
		# Send notification event
		every_player = {
			trigger_event = agot_legitimate_house.0001
		}
	}
}
# The Reach
agot_become_legitimate_house_decision_reach = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	desc = agot_become_legitimate_house_decision_desc_reach

	is_shown = {
		is_ruler = yes
		is_landed = yes
		any_held_title = {
			OR = {
				this = title:e_the_reach
				this = title:k_the_reach
			}
			title_uses_legitimate_house_mechanic = yes
			title_is_not_held_by_legitimate_house = yes
		}
	}

	is_valid = {
		OR = {
			title:e_the_reach = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
			title:k_the_reach = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
		}
	}

	ai_check_interval = 6

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

	effect = {
		save_scope_as = new_legitimate_holder
		house = {
			save_scope_as = new_legitimate_house
		}
		if = {
			limit = {
				has_title = title:e_the_reach
			}
			title:e_the_reach = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:e_the_reach
				HOUSE = scope:new_legitimate_house
			}
		}
		else_if = {
			limit = {
				has_title = title:k_the_reach
			}
			title:k_the_reach = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:k_the_reach
				HOUSE = scope:new_legitimate_house
			}
		}
		add_prestige = medium_prestige_value
		add_legitimacy_effect = { LEGITIMACY = medium_legitimacy_gain }
		dynasty = { add_dynasty_prestige = medium_prestige_value }
		# Send notification event
		every_player = {
			trigger_event = agot_legitimate_house.0001
		}
	}
}
# The Stormlands
agot_become_legitimate_house_decision_stormlands = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	desc = agot_become_legitimate_house_decision_desc_stormlands

	is_shown = {
		is_ruler = yes
		is_landed = yes
		any_held_title = {
			OR = {
				this = title:e_the_stormlands
				this = title:k_the_stormlands
			}
			title_uses_legitimate_house_mechanic = yes
			title_is_not_held_by_legitimate_house = yes
		}
	}

	is_valid = {
		OR = {
			title:e_the_stormlands = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
			title:k_the_stormlands = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
		}
	}

	ai_check_interval = 6

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

	effect = {
		save_scope_as = new_legitimate_holder
		house = {
			save_scope_as = new_legitimate_house
		}
		if = {
			limit = {
				has_title = title:e_the_stormlands
			}
			title:e_the_stormlands = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:e_the_stormlands
				HOUSE = scope:new_legitimate_house
			}
		}
		else_if = {
			limit = {
				has_title = title:k_the_stormlands
			}
			title:k_the_stormlands = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:k_the_stormlands
				HOUSE = scope:new_legitimate_house
			}
		}
		add_prestige = medium_prestige_value
		add_legitimacy_effect = { LEGITIMACY = medium_legitimacy_gain }
		dynasty = { add_dynasty_prestige = medium_prestige_value }
		# Send notification event
		every_player = {
			trigger_event = agot_legitimate_house.0001
		}
	}
}
# Dorne
agot_become_legitimate_house_decision_dorne = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	desc = agot_become_legitimate_house_decision_desc_dorne

	is_shown = {
		is_ruler = yes
		is_landed = yes
		any_held_title = {
			OR = {
				this = title:e_dorne
				this = title:k_dorne
			}
			title_uses_legitimate_house_mechanic = yes
			title_is_not_held_by_legitimate_house = yes
		}
	}

	is_valid = {
		OR = {
			title:e_dorne = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
			title:k_dorne = {
				holder = root
				title_current_holder_can_become_legitimate = yes
			}
		}
	}

	ai_check_interval = 6

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

	effect = {
		save_scope_as = new_legitimate_holder
		house = {
			save_scope_as = new_legitimate_house
		}
		if = {
			limit = {
				has_title = title:e_dorne
			}
			title:e_dorne = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:e_dorne
				HOUSE = scope:new_legitimate_house
			}
		}
		else_if = {
			limit = {
				has_title = title:k_dorne
			}
			title:k_dorne = {
				save_scope_as = changed_legitimate_title
				var:legitimate_house = { save_scope_as = old_legitimate_house }
			}
			agot_set_legitimate_house = {
				TITLE = title:k_dorne
				HOUSE = scope:new_legitimate_house
			}
		}
		add_prestige = medium_prestige_value
		add_legitimacy_effect = { LEGITIMACY = medium_legitimacy_gain }
		dynasty = { add_dynasty_prestige = medium_prestige_value }
		# Send notification event
		every_player = {
			trigger_event = agot_legitimate_house.0001
		}
	}
}
# The Crownlands
agot_become_legitimate_house_decision_crownlands = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	desc = agot_become_legitimate_house_decision_desc_crownlands

	is_shown = {
		is_ruler = yes
		is_landed = yes
		any_held_title = {
			this = title:k_the_crownlands
			title_uses_legitimate_house_mechanic = yes
			title_is_not_held_by_legitimate_house = yes
		}
	}

	is_valid = {
		title:k_the_crownlands = {
			holder = root
			title_current_holder_can_become_legitimate = yes
		}
	}

	ai_check_interval = 6

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

	effect = {
		save_scope_as = new_legitimate_holder
		house = {
			save_scope_as = new_legitimate_house
		}
		title:k_the_crownlands = {
			save_scope_as = changed_legitimate_title
			var:legitimate_house = { save_scope_as = old_legitimate_house }
		}
		agot_set_legitimate_house = {
			TITLE = scope:changed_legitimate_title
			HOUSE = scope:new_legitimate_house
		}
		add_prestige = medium_prestige_value
		add_legitimacy_effect = { LEGITIMACY = medium_legitimacy_gain }
		dynasty = { add_dynasty_prestige = medium_prestige_value }
		# Send notification event
		every_player = {
			trigger_event = agot_legitimate_house.0001
		}
	}
}
# Dragonstone
agot_become_legitimate_house_decision_dragonstone = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	desc = agot_become_legitimate_house_decision_desc_dragonstone

	is_shown = {
		is_ruler = yes
		is_landed = yes
		any_held_title = {
			this = title:k_dragonstone
			title_uses_legitimate_house_mechanic = yes
			title_is_not_held_by_legitimate_house = yes
		}
	}

	is_valid = {
		title:k_dragonstone = {
			holder = root
			title_current_holder_can_become_legitimate = yes
		}
	}

	ai_check_interval = 6

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

	effect = {
		save_scope_as = new_legitimate_holder
		house = {
			save_scope_as = new_legitimate_house
		}
		title:k_dragonstone = {
			save_scope_as = changed_legitimate_title
			var:legitimate_house = { save_scope_as = old_legitimate_house }
		}
		agot_set_legitimate_house = {
			TITLE = scope:changed_legitimate_title
			HOUSE = scope:new_legitimate_house
		}
		add_prestige = medium_prestige_value
		add_legitimacy_effect = { LEGITIMACY = medium_legitimacy_gain }
		dynasty = { add_dynasty_prestige = medium_prestige_value }
		# Send notification event
		every_player = {
			trigger_event = agot_legitimate_house.0001
		}
	}
}
# The Iron Throne
agot_become_legitimate_house_decision_iron_throne = {
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_found_kingdom.dds"
	}
	decision_group_type = major

	desc = agot_become_legitimate_house_decision_desc_iron_throne

	is_shown = {
		is_ruler = yes
		is_landed = yes
		any_held_title = {
			this = title:e_the_iron_throne
			title_uses_legitimate_house_mechanic = yes
			title_is_not_held_by_legitimate_house = yes
		}
	}

	is_valid = {
		title:e_the_iron_throne = {
			holder = root
			title_current_holder_can_become_legitimate = yes
		}
	}

	ai_check_interval = 6

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 100
	}

	effect = {
		save_scope_as = new_legitimate_holder
		house = {
			save_scope_as = new_legitimate_house
		}
		title:e_the_iron_throne = {
			save_scope_as = changed_legitimate_title
			var:legitimate_house = { save_scope_as = old_legitimate_house }
		}
		agot_set_legitimate_house = {
			TITLE = scope:changed_legitimate_title
			HOUSE = scope:new_legitimate_house
		}
		add_prestige = medium_prestige_value
		add_legitimacy_effect = { LEGITIMACY = medium_legitimacy_gain }
		dynasty = { add_dynasty_prestige = medium_prestige_value }
		# Send notification event
		every_player = {
			trigger_event = agot_legitimate_house.0001
		}
	}
}