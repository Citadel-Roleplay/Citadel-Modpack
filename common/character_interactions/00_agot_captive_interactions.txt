mark_as_captive_interaction = {
	category = interaction_category_friendly

	desc = mark_as_captive_interaction_desc
	interface_priority = 40
	use_diplomatic_range = no

	auto_accept = yes
	on_accept = {
		scope:actor = {
			add_to_variable_list = {
				name = marked_as_captive
				target = scope:recipient
			}
		}
		scope:recipient = {
			add_to_variable_list = {
				name = marked_as_captive_by
				target = scope:actor
			}
		}
	}
	ai_frequency = 0
	is_shown = {
		scope:actor = {
			is_ai = no
			is_human = yes
			scope:recipient = { NOT = { is_courtier_of = scope:actor } }
			OR = {
				dynasty = scope:recipient.dynasty
				has_relation_lover = scope:recipient
				has_relation_friend = scope:recipient
				any_former_spouse = { this = scope:recipient }
			}
		}
		scope:recipient = {
			is_landed = no
			is_human = yes
			OR = {
				any_spouse = {
					is_male = yes
					patrilinear_marriage = yes
				}
				any_spouse = {
					is_female = yes
					matrilinear_marriage = yes
				}
				is_concubine = yes
			}
		}
		scope:actor = {
			NOT = {
				is_target_in_variable_list = {
					name = marked_as_captive
					target = scope:recipient
				}
			}
		}
		NOT = { scope:actor = scope:recipient }
	}
}

unmark_as_captive_interaction = {
	category = interaction_category_friendly

	desc = unmark_as_captive_interaction_desc
	interface_priority = 40
	use_diplomatic_range = no

	auto_accept = yes
	on_accept = {
		scope:actor = {
			remove_list_variable = {
				name = marked_as_captive
				target = scope:recipient
			}
		}
		scope:recipient = {
			remove_list_variable = {
				name = marked_as_captive_by
				target = scope:actor
			}
		}
	}
	ai_frequency = 0
	is_shown = {
		scope:actor = {
			is_human = yes
			is_target_in_variable_list = {
				name = marked_as_captive
				target = scope:recipient
			}
		}
		NOT = { scope:actor = scope:recipient }
	}
}

# mark_for_freedom_interaction = {
# 	category = interaction_category_prison

# 	desc = mark_for_freedom_interaction_desc
# 	interface_priority = 40
# 	use_diplomatic_range = no

# 	auto_accept = yes
# 	on_accept = {
# 		scope:actor = {
# 			add_to_variable_list = {
# 				name = marked_for_freedom
# 				target = scope:recipient
# 			}
# 		}
# 		scope:recipient = {
# 			add_to_variable_list = {
# 				name = marked_for_freedom_by
# 				target = scope:actor
# 			}
# 		}
# 	}
# 	ai_frequency = 12 #Added to remove error
# 	ai_potential = { always = no }
# 	ai_targets = { ai_recipients = spouses } #Added to prevent error
# 	is_shown = {
# 		scope:recipient = {
# 			is_imprisoned = yes
# 			NOT = { is_imprisoned_by = scope:actor }
# 		}
# 		scope:actor = {
# 			NOT = {
# 				is_target_in_variable_list = {
# 					name = marked_for_freedom
# 					target = scope:recipient
# 				}
# 			}
# 		}
# 		NOT = { scope:actor = scope:recipient }
# 	}
# }

# unmark_for_freedom_interaction = {
# 	category = interaction_category_friendly

# 	desc = unmark_for_freedom_interaction_desc
# 	interface_priority = 40
# 	use_diplomatic_range = no

# 	auto_accept = yes
# 	on_accept = {
# 		scope:actor = {
# 			remove_list_variable = {
# 				name = marked_for_freedom
# 				target = scope:recipient
# 			}
# 		}
# 		scope:recipient = {
# 			remove_list_variable = {
# 				name = marked_for_freedom_by
# 				target = scope:actor
# 			}
# 		}
# 	}
# 	ai_frequency = 12 #Added to remove error
# 	ai_potential = { always = no }
# 	ai_targets = { ai_recipients = spouses } #Added to prevent error
# 	is_shown = {
# 		scope:actor = {
# 			is_target_in_variable_list = {
# 				name = marked_for_freedom
# 				target = scope:recipient
# 			}
# 		}
# 		NOT = { scope:actor = scope:recipient }
# 	}
# }