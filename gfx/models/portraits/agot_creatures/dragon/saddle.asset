pdxmesh = {
	name = "saddle_mesh"
	file = "saddle/saddle.mesh"
	scale = 1.0

	import = {
		type = skeletal_animation_set
		name = "dragon_animations"
	}

	meshsettings = {
		name = "saddle"
		index = 0
		texture_diffuse = "saddle_diffuse.dds"
		texture_normal = "saddle_normal.dds"
		texture_specular = "saddle_properties.dds"
		shader = "portrait_attachment_pattern"
		shader_file = "gfx/FX/jomini/portrait.shader"
	}

	blend_shape = { 		id = "saddle_dragon_large"					type = "saddle/saddle_large.mesh" }

	additive_animation = { 	id = "dragon_infant_proportions"			type = "dragon_infant.anim" }
	additive_animation = { 	id = "dragon_large_proportions"				type = "dragon_large.anim" }

	#additive_animation = { 	id = "male_body_saddle_height"				type = "male_body_saddle_height.anim" }
	#additive_animation = { 	id = "infant_saddle_height"					type = "infant_saddle_height.anim" }
}

entity = {
	name = "saddle_entity"
	pdxmesh = "saddle_mesh"
	
    game_data = {
		portrait_entity_user_data = {
			color_mask_remap_interval = {
				interval = {0.0 1.0}
			}
			portrait_accessory = {
				pattern_mask = "gfx/models/portraits/agot_creatures/dragon/saddle/saddle_masks.dds"	#Any 4-channel texture. Each channel will be used to mask a pattern from the variation object
				variation = "dragon_saddle_01"	#A "variation" object in gfx/portraits/accessory_variations/
			}
		}
	 }

	attribute = { name = "bs_dragon_large"						blend_shape = "saddle_dragon_large" }

	attribute = { name = "dragon_infant_proportions" 			additive_animation = "dragon_infant_proportions" default = 0.5 }
	attribute = { name = "dragon_large_proportions" 			additive_animation = "dragon_large_proportions" default = 0.5 }

	#attribute = { name = "body_height" 							additive_animation = "male_body_saddle_height" default = 0.5 }
	#attribute = { name = "body_infant_proportions" 				additive_animation = "infant_saddle_height" default = 0.5 }

	

	get_state_from_parent = yes

	state = {	name = "dragon_static"						animation = "dragon_idle_1" 					looping = no animation_speed = 1.0 }
	state = {	name = "dragon_idle_entry"					animation = "dragon_idle_flair_lookingleft" 	looping = no animation_speed = 1.0 }
	state = {	name = "dragon_idle"						animation = "dragon_idle_1" 					looping = no animation_speed = 1.0 }
	state = {	name = "dragon_flying"						animation = "dragon_flying_1" 					looping = no animation_speed = 1.0 }
	state = {	name = "dragon_flying_2"					animation = "dragon_flying_2" 					looping = no animation_speed = 1.0 }
	state = {	name = "dragon_roar"						animation = "dragon_roar_1" 					looping = no animation_speed = 1.0 }
	state = {	name = "dragon_hover"						animation = "dragon_hover_1" 					looping = no animation_speed = 1.0 }
}
